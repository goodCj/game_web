{"ast":null,"code":"import _toConsumableArray from \"/Users/liusu/Desktop/h5_free/game/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _toArray from \"/Users/liusu/Desktop/h5_free/game/node_modules/@babel/runtime/helpers/esm/toArray.js\";\nimport _slicedToArray from \"/Users/liusu/Desktop/h5_free/game/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport { __rest } from \"tslib\";\nimport { useEffect, useRef, useState } from 'react';\nimport useMemoizedFn from '../useMemoizedFn';\nimport usePagination from '../usePagination';\nimport useUpdateEffect from '../useUpdateEffect';\nvar useAntdTable = function useAntdTable(service) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var _a;\n  var form = options.form,\n    _options$defaultType = options.defaultType,\n    defaultType = _options$defaultType === void 0 ? 'simple' : _options$defaultType,\n    defaultParams = options.defaultParams,\n    _options$manual = options.manual,\n    manual = _options$manual === void 0 ? false : _options$manual,\n    _options$refreshDeps = options.refreshDeps,\n    refreshDeps = _options$refreshDeps === void 0 ? [] : _options$refreshDeps,\n    _options$ready = options.ready,\n    ready = _options$ready === void 0 ? true : _options$ready,\n    rest = __rest(options, [\"form\", \"defaultType\", \"defaultParams\", \"manual\", \"refreshDeps\", \"ready\"]);\n  var result = usePagination(service, Object.assign({\n    manual: true\n  }, rest));\n  var _result$params = result.params,\n    params = _result$params === void 0 ? [] : _result$params,\n    run = result.run;\n  var cacheFormTableData = params[2] || {};\n  var _useState = useState((cacheFormTableData === null || cacheFormTableData === void 0 ? void 0 : cacheFormTableData.type) || defaultType),\n    _useState2 = _slicedToArray(_useState, 2),\n    type = _useState2[0],\n    setType = _useState2[1];\n  var allFormDataRef = useRef({});\n  var defaultDataSourceRef = useRef([]);\n  var isAntdV4 = !!(form === null || form === void 0 ? void 0 : form.getInternalHooks);\n  // get current active field values\n  var getActiveFieldValues = function getActiveFieldValues() {\n    if (!form) {\n      return {};\n    }\n    // antd 4\n    if (isAntdV4) {\n      return form.getFieldsValue(null, function () {\n        return true;\n      });\n    }\n    // antd 3\n    var allFieldsValue = form.getFieldsValue();\n    var activeFieldsValue = {};\n    Object.keys(allFieldsValue).forEach(function (key) {\n      if (form.getFieldInstance ? form.getFieldInstance(key) : true) {\n        activeFieldsValue[key] = allFieldsValue[key];\n      }\n    });\n    return activeFieldsValue;\n  };\n  var validateFields = function validateFields() {\n    if (!form) {\n      return Promise.resolve({});\n    }\n    var activeFieldsValue = getActiveFieldValues();\n    var fields = Object.keys(activeFieldsValue);\n    // antd 4\n    if (isAntdV4) {\n      return form.validateFields(fields);\n    }\n    // antd 3\n    return new Promise(function (resolve, reject) {\n      form.validateFields(fields, function (errors, values) {\n        if (errors) {\n          reject(errors);\n        } else {\n          resolve(values);\n        }\n      });\n    });\n  };\n  var restoreForm = function restoreForm() {\n    if (!form) {\n      return;\n    }\n    // antd v4\n    if (isAntdV4) {\n      return form.setFieldsValue(allFormDataRef.current);\n    }\n    // antd v3\n    var activeFieldsValue = {};\n    Object.keys(allFormDataRef.current).forEach(function (key) {\n      if (form.getFieldInstance ? form.getFieldInstance(key) : true) {\n        activeFieldsValue[key] = allFormDataRef.current[key];\n      }\n    });\n    form.setFieldsValue(activeFieldsValue);\n  };\n  var changeType = function changeType() {\n    var activeFieldsValue = getActiveFieldValues();\n    allFormDataRef.current = Object.assign(Object.assign({}, allFormDataRef.current), activeFieldsValue);\n    setType(function (t) {\n      return t === 'simple' ? 'advance' : 'simple';\n    });\n  };\n  var _submit = function _submit(initPagination) {\n    if (!ready) {\n      return;\n    }\n    setTimeout(function () {\n      validateFields().then(function () {\n        var values = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        var pagination = initPagination || Object.assign(Object.assign({\n          pageSize: options.defaultPageSize || 10\n        }, (params === null || params === void 0 ? void 0 : params[0]) || {}), {\n          current: 1\n        });\n        if (!form) {\n          // @ts-ignore\n          run(pagination);\n          return;\n        }\n        // record all form data\n        allFormDataRef.current = Object.assign(Object.assign({}, allFormDataRef.current), values);\n        // @ts-ignore\n        run(pagination, values, {\n          allFormData: allFormDataRef.current,\n          type: type\n        });\n      }).catch(function (err) {\n        return err;\n      });\n    });\n  };\n  var reset = function reset() {\n    if (form) {\n      form.resetFields();\n    }\n    _submit();\n  };\n  var submit = function submit(e) {\n    var _a;\n    (_a = e === null || e === void 0 ? void 0 : e.preventDefault) === null || _a === void 0 ? void 0 : _a.call(e);\n    _submit();\n  };\n  var onTableChange = function onTableChange(pagination, filters, sorter, extra) {\n    var _ref = params || [],\n      _ref2 = _toArray(_ref),\n      oldPaginationParams = _ref2[0],\n      restParams = _ref2.slice(1);\n    run.apply(void 0, [Object.assign(Object.assign({}, oldPaginationParams), {\n      current: pagination.current,\n      pageSize: pagination.pageSize,\n      filters: filters,\n      sorter: sorter,\n      extra: extra\n    })].concat(_toConsumableArray(restParams)));\n  };\n  // init\n  useEffect(function () {\n    // if has cache, use cached params. ignore manual and ready.\n    if (params.length > 0) {\n      allFormDataRef.current = (cacheFormTableData === null || cacheFormTableData === void 0 ? void 0 : cacheFormTableData.allFormData) || {};\n      restoreForm();\n      // @ts-ignore\n      run.apply(void 0, _toConsumableArray(params));\n      return;\n    }\n    if (!manual && ready) {\n      allFormDataRef.current = (defaultParams === null || defaultParams === void 0 ? void 0 : defaultParams[1]) || {};\n      restoreForm();\n      _submit(defaultParams === null || defaultParams === void 0 ? void 0 : defaultParams[0]);\n    }\n  }, []);\n  // change search type, restore form data\n  useUpdateEffect(function () {\n    if (!ready) {\n      return;\n    }\n    restoreForm();\n  }, [type]);\n  // refresh & ready change on the same time\n  var hasAutoRun = useRef(false);\n  hasAutoRun.current = false;\n  useUpdateEffect(function () {\n    if (!manual && ready) {\n      hasAutoRun.current = true;\n      if (form) {\n        form.resetFields();\n      }\n      allFormDataRef.current = (defaultParams === null || defaultParams === void 0 ? void 0 : defaultParams[1]) || {};\n      restoreForm();\n      _submit(defaultParams === null || defaultParams === void 0 ? void 0 : defaultParams[0]);\n    }\n  }, [ready]);\n  useUpdateEffect(function () {\n    if (hasAutoRun.current) {\n      return;\n    }\n    if (!ready) {\n      return;\n    }\n    if (!manual) {\n      hasAutoRun.current = true;\n      result.pagination.changeCurrent(1);\n    }\n  }, _toConsumableArray(refreshDeps));\n  return Object.assign(Object.assign({}, result), {\n    tableProps: {\n      dataSource: ((_a = result.data) === null || _a === void 0 ? void 0 : _a.list) || defaultDataSourceRef.current,\n      loading: result.loading,\n      onChange: useMemoizedFn(onTableChange),\n      pagination: {\n        current: result.pagination.current,\n        pageSize: result.pagination.pageSize,\n        total: result.pagination.total\n      }\n    },\n    search: {\n      submit: useMemoizedFn(submit),\n      type: type,\n      changeType: useMemoizedFn(changeType),\n      reset: useMemoizedFn(reset)\n    }\n  });\n};\nexport default useAntdTable;","map":{"version":3,"names":["__rest","useEffect","useRef","useState","useMemoizedFn","usePagination","useUpdateEffect","useAntdTable","service","options","arguments","length","undefined","_a","form","_options$defaultType","defaultType","defaultParams","_options$manual","manual","_options$refreshDeps","refreshDeps","_options$ready","ready","rest","result","Object","assign","_result$params","params","run","cacheFormTableData","_useState","type","_useState2","_slicedToArray","setType","allFormDataRef","defaultDataSourceRef","isAntdV4","getInternalHooks","getActiveFieldValues","getFieldsValue","allFieldsValue","activeFieldsValue","keys","forEach","key","getFieldInstance","validateFields","Promise","resolve","fields","reject","errors","values","restoreForm","setFieldsValue","current","changeType","t","_submit","initPagination","setTimeout","then","pagination","pageSize","defaultPageSize","allFormData","catch","err","reset","resetFields","submit","e","preventDefault","call","onTableChange","filters","sorter","extra","_ref","_ref2","_toArray","oldPaginationParams","restParams","slice","apply","concat","_toConsumableArray","hasAutoRun","changeCurrent","tableProps","dataSource","data","list","loading","onChange","total","search"],"sources":["/Users/liusu/Desktop/h5_free/game/node_modules/ahooks/es/useAntdTable/index.js"],"sourcesContent":["import { __rest } from \"tslib\";\nimport { useEffect, useRef, useState } from 'react';\nimport useMemoizedFn from '../useMemoizedFn';\nimport usePagination from '../usePagination';\nimport useUpdateEffect from '../useUpdateEffect';\nconst useAntdTable = (service, options = {}) => {\n  var _a;\n  const {\n      form,\n      defaultType = 'simple',\n      defaultParams,\n      manual = false,\n      refreshDeps = [],\n      ready = true\n    } = options,\n    rest = __rest(options, [\"form\", \"defaultType\", \"defaultParams\", \"manual\", \"refreshDeps\", \"ready\"]);\n  const result = usePagination(service, Object.assign({\n    manual: true\n  }, rest));\n  const {\n    params = [],\n    run\n  } = result;\n  const cacheFormTableData = params[2] || {};\n  const [type, setType] = useState((cacheFormTableData === null || cacheFormTableData === void 0 ? void 0 : cacheFormTableData.type) || defaultType);\n  const allFormDataRef = useRef({});\n  const defaultDataSourceRef = useRef([]);\n  const isAntdV4 = !!(form === null || form === void 0 ? void 0 : form.getInternalHooks);\n  // get current active field values\n  const getActiveFieldValues = () => {\n    if (!form) {\n      return {};\n    }\n    // antd 4\n    if (isAntdV4) {\n      return form.getFieldsValue(null, () => true);\n    }\n    // antd 3\n    const allFieldsValue = form.getFieldsValue();\n    const activeFieldsValue = {};\n    Object.keys(allFieldsValue).forEach(key => {\n      if (form.getFieldInstance ? form.getFieldInstance(key) : true) {\n        activeFieldsValue[key] = allFieldsValue[key];\n      }\n    });\n    return activeFieldsValue;\n  };\n  const validateFields = () => {\n    if (!form) {\n      return Promise.resolve({});\n    }\n    const activeFieldsValue = getActiveFieldValues();\n    const fields = Object.keys(activeFieldsValue);\n    // antd 4\n    if (isAntdV4) {\n      return form.validateFields(fields);\n    }\n    // antd 3\n    return new Promise((resolve, reject) => {\n      form.validateFields(fields, (errors, values) => {\n        if (errors) {\n          reject(errors);\n        } else {\n          resolve(values);\n        }\n      });\n    });\n  };\n  const restoreForm = () => {\n    if (!form) {\n      return;\n    }\n    // antd v4\n    if (isAntdV4) {\n      return form.setFieldsValue(allFormDataRef.current);\n    }\n    // antd v3\n    const activeFieldsValue = {};\n    Object.keys(allFormDataRef.current).forEach(key => {\n      if (form.getFieldInstance ? form.getFieldInstance(key) : true) {\n        activeFieldsValue[key] = allFormDataRef.current[key];\n      }\n    });\n    form.setFieldsValue(activeFieldsValue);\n  };\n  const changeType = () => {\n    const activeFieldsValue = getActiveFieldValues();\n    allFormDataRef.current = Object.assign(Object.assign({}, allFormDataRef.current), activeFieldsValue);\n    setType(t => t === 'simple' ? 'advance' : 'simple');\n  };\n  const _submit = initPagination => {\n    if (!ready) {\n      return;\n    }\n    setTimeout(() => {\n      validateFields().then((values = {}) => {\n        const pagination = initPagination || Object.assign(Object.assign({\n          pageSize: options.defaultPageSize || 10\n        }, (params === null || params === void 0 ? void 0 : params[0]) || {}), {\n          current: 1\n        });\n        if (!form) {\n          // @ts-ignore\n          run(pagination);\n          return;\n        }\n        // record all form data\n        allFormDataRef.current = Object.assign(Object.assign({}, allFormDataRef.current), values);\n        // @ts-ignore\n        run(pagination, values, {\n          allFormData: allFormDataRef.current,\n          type\n        });\n      }).catch(err => err);\n    });\n  };\n  const reset = () => {\n    if (form) {\n      form.resetFields();\n    }\n    _submit();\n  };\n  const submit = e => {\n    var _a;\n    (_a = e === null || e === void 0 ? void 0 : e.preventDefault) === null || _a === void 0 ? void 0 : _a.call(e);\n    _submit();\n  };\n  const onTableChange = (pagination, filters, sorter, extra) => {\n    const [oldPaginationParams, ...restParams] = params || [];\n    run(Object.assign(Object.assign({}, oldPaginationParams), {\n      current: pagination.current,\n      pageSize: pagination.pageSize,\n      filters,\n      sorter,\n      extra\n    }), ...restParams);\n  };\n  // init\n  useEffect(() => {\n    // if has cache, use cached params. ignore manual and ready.\n    if (params.length > 0) {\n      allFormDataRef.current = (cacheFormTableData === null || cacheFormTableData === void 0 ? void 0 : cacheFormTableData.allFormData) || {};\n      restoreForm();\n      // @ts-ignore\n      run(...params);\n      return;\n    }\n    if (!manual && ready) {\n      allFormDataRef.current = (defaultParams === null || defaultParams === void 0 ? void 0 : defaultParams[1]) || {};\n      restoreForm();\n      _submit(defaultParams === null || defaultParams === void 0 ? void 0 : defaultParams[0]);\n    }\n  }, []);\n  // change search type, restore form data\n  useUpdateEffect(() => {\n    if (!ready) {\n      return;\n    }\n    restoreForm();\n  }, [type]);\n  // refresh & ready change on the same time\n  const hasAutoRun = useRef(false);\n  hasAutoRun.current = false;\n  useUpdateEffect(() => {\n    if (!manual && ready) {\n      hasAutoRun.current = true;\n      if (form) {\n        form.resetFields();\n      }\n      allFormDataRef.current = (defaultParams === null || defaultParams === void 0 ? void 0 : defaultParams[1]) || {};\n      restoreForm();\n      _submit(defaultParams === null || defaultParams === void 0 ? void 0 : defaultParams[0]);\n    }\n  }, [ready]);\n  useUpdateEffect(() => {\n    if (hasAutoRun.current) {\n      return;\n    }\n    if (!ready) {\n      return;\n    }\n    if (!manual) {\n      hasAutoRun.current = true;\n      result.pagination.changeCurrent(1);\n    }\n  }, [...refreshDeps]);\n  return Object.assign(Object.assign({}, result), {\n    tableProps: {\n      dataSource: ((_a = result.data) === null || _a === void 0 ? void 0 : _a.list) || defaultDataSourceRef.current,\n      loading: result.loading,\n      onChange: useMemoizedFn(onTableChange),\n      pagination: {\n        current: result.pagination.current,\n        pageSize: result.pagination.pageSize,\n        total: result.pagination.total\n      }\n    },\n    search: {\n      submit: useMemoizedFn(submit),\n      type,\n      changeType: useMemoizedFn(changeType),\n      reset: useMemoizedFn(reset)\n    }\n  });\n};\nexport default useAntdTable;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}