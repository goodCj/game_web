{"ast":null,"code":"import _defineProperty from \"/Users/liusu/Desktop/h5_free/game/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _slicedToArray from \"/Users/liusu/Desktop/h5_free/game/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport React from 'react';\nimport classNames from 'classnames';\nimport Badge from '../badge';\nimport { withNativeProps } from '../../utils/native-props';\nimport { usePropsValue } from '../../utils/use-props-value';\nimport { Corner } from './corner';\nimport { traverseReactNode } from '../../utils/traverse-react-node';\nvar classPrefix = \"adm-side-bar\";\n/* istanbul ignore next */\nexport var SideBarItem = function SideBarItem() {\n  return null;\n};\nexport var SideBar = function SideBar(props) {\n  var _a;\n  var firstActiveKey = null;\n  var items = [];\n  traverseReactNode(props.children, function (child, index) {\n    if (!React.isValidElement(child)) return;\n    var key = child.key;\n    if (typeof key !== 'string') return;\n    if (index === 0) {\n      firstActiveKey = key;\n    }\n    items.push(child);\n  });\n  var _usePropsValue = usePropsValue({\n      value: props.activeKey,\n      defaultValue: (_a = props.defaultActiveKey) !== null && _a !== void 0 ? _a : firstActiveKey,\n      onChange: function onChange(v) {\n        var _a;\n        if (v === null) return;\n        (_a = props.onChange) === null || _a === void 0 ? void 0 : _a.call(props, v);\n      }\n    }),\n    _usePropsValue2 = _slicedToArray(_usePropsValue, 2),\n    activeKey = _usePropsValue2[0],\n    setActiveKey = _usePropsValue2[1];\n  var lastItem = items[items.length - 1];\n  var isLastItemActive = lastItem && lastItem.key === activeKey;\n  return withNativeProps(props, React.createElement(\"div\", {\n    className: classPrefix\n  }, React.createElement(\"div\", {\n    className: \"\".concat(classPrefix, \"-items\")\n  }, items.map(function (item, index) {\n    var _classNames;\n    var active = item.key === activeKey;\n    var isActiveNextSibling = items[index - 1] && items[index - 1].key === activeKey;\n    var isActivePreviousSibling = items[index + 1] && items[index + 1].key === activeKey;\n    return withNativeProps(item.props, React.createElement(\"div\", {\n      key: item.key,\n      onClick: function onClick() {\n        var key = item.key;\n        if (key === undefined || key === null || item.props.disabled) return;\n        setActiveKey(key.toString());\n      },\n      className: classNames(\"\".concat(classPrefix, \"-item\"), (_classNames = {}, _defineProperty(_classNames, \"\".concat(classPrefix, \"-item-active\"), active), _defineProperty(_classNames, \"\".concat(classPrefix, \"-item-disabled\"), item.props.disabled), _classNames))\n    }, React.createElement(React.Fragment, null, isActiveNextSibling && React.createElement(Corner, {\n      className: \"\".concat(classPrefix, \"-item-corner \").concat(classPrefix, \"-item-corner-top\")\n    }), isActivePreviousSibling && React.createElement(Corner, {\n      className: \"\".concat(classPrefix, \"-item-corner \").concat(classPrefix, \"-item-corner-bottom\")\n    })), React.createElement(Badge, {\n      content: item.props.badge,\n      className: \"\".concat(classPrefix, \"-badge\")\n    }, React.createElement(\"div\", {\n      className: \"\".concat(classPrefix, \"-item-title\")\n    }, active && React.createElement(\"div\", {\n      className: \"\".concat(classPrefix, \"-item-highlight\")\n    }), item.props.title))));\n  })), React.createElement(\"div\", {\n    className: classNames(\"\".concat(classPrefix, \"-extra-space\"), isLastItemActive && \"\".concat(classPrefix, \"-item-active-next-sibling\"))\n  }, isLastItemActive && React.createElement(Corner, {\n    className: \"\".concat(classPrefix, \"-item-corner \").concat(classPrefix, \"-item-corner-top\")\n  }))));\n};","map":{"version":3,"names":["React","classNames","Badge","withNativeProps","usePropsValue","Corner","traverseReactNode","classPrefix","SideBarItem","SideBar","props","_a","firstActiveKey","items","children","child","index","isValidElement","key","push","_usePropsValue","value","activeKey","defaultValue","defaultActiveKey","onChange","v","call","_usePropsValue2","_slicedToArray","setActiveKey","lastItem","length","isLastItemActive","createElement","className","concat","map","item","_classNames","active","isActiveNextSibling","isActivePreviousSibling","onClick","undefined","disabled","toString","_defineProperty","Fragment","content","badge","title"],"sources":["/Users/liusu/Desktop/h5_free/game/node_modules/antd-mobile/es/components/side-bar/side-bar.js"],"sourcesContent":["import React from 'react';\nimport classNames from 'classnames';\nimport Badge from '../badge';\nimport { withNativeProps } from '../../utils/native-props';\nimport { usePropsValue } from '../../utils/use-props-value';\nimport { Corner } from './corner';\nimport { traverseReactNode } from '../../utils/traverse-react-node';\nconst classPrefix = `adm-side-bar`;\n/* istanbul ignore next */\nexport const SideBarItem = () => {\n  return null;\n};\nexport const SideBar = props => {\n  var _a;\n  let firstActiveKey = null;\n  const items = [];\n  traverseReactNode(props.children, (child, index) => {\n    if (!React.isValidElement(child)) return;\n    const key = child.key;\n    if (typeof key !== 'string') return;\n    if (index === 0) {\n      firstActiveKey = key;\n    }\n    items.push(child);\n  });\n  const [activeKey, setActiveKey] = usePropsValue({\n    value: props.activeKey,\n    defaultValue: (_a = props.defaultActiveKey) !== null && _a !== void 0 ? _a : firstActiveKey,\n    onChange: v => {\n      var _a;\n      if (v === null) return;\n      (_a = props.onChange) === null || _a === void 0 ? void 0 : _a.call(props, v);\n    }\n  });\n  const lastItem = items[items.length - 1];\n  const isLastItemActive = lastItem && lastItem.key === activeKey;\n  return withNativeProps(props, React.createElement(\"div\", {\n    className: classPrefix\n  }, React.createElement(\"div\", {\n    className: `${classPrefix}-items`\n  }, items.map((item, index) => {\n    const active = item.key === activeKey;\n    const isActiveNextSibling = items[index - 1] && items[index - 1].key === activeKey;\n    const isActivePreviousSibling = items[index + 1] && items[index + 1].key === activeKey;\n    return withNativeProps(item.props, React.createElement(\"div\", {\n      key: item.key,\n      onClick: () => {\n        const {\n          key\n        } = item;\n        if (key === undefined || key === null || item.props.disabled) return;\n        setActiveKey(key.toString());\n      },\n      className: classNames(`${classPrefix}-item`, {\n        [`${classPrefix}-item-active`]: active,\n        [`${classPrefix}-item-disabled`]: item.props.disabled\n      })\n    }, React.createElement(React.Fragment, null, isActiveNextSibling && React.createElement(Corner, {\n      className: `${classPrefix}-item-corner ${classPrefix}-item-corner-top`\n    }), isActivePreviousSibling && React.createElement(Corner, {\n      className: `${classPrefix}-item-corner ${classPrefix}-item-corner-bottom`\n    })), React.createElement(Badge, {\n      content: item.props.badge,\n      className: `${classPrefix}-badge`\n    }, React.createElement(\"div\", {\n      className: `${classPrefix}-item-title`\n    }, active && React.createElement(\"div\", {\n      className: `${classPrefix}-item-highlight`\n    }), item.props.title))));\n  })), React.createElement(\"div\", {\n    className: classNames(`${classPrefix}-extra-space`, isLastItemActive && `${classPrefix}-item-active-next-sibling`)\n  }, isLastItemActive && React.createElement(Corner, {\n    className: `${classPrefix}-item-corner ${classPrefix}-item-corner-top`\n  }))));\n};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}