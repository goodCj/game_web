{"ast":null,"code":"import _slicedToArray from \"/Users/liusu/Desktop/h5_free/game/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport { useCallback, useState } from 'react';\nimport useLatest from '../useLatest';\nimport { isFunction } from '../utils';\nfunction useEventTarget(options) {\n  var _ref = options || {},\n    initialValue = _ref.initialValue,\n    transformer = _ref.transformer;\n  var _useState = useState(initialValue),\n    _useState2 = _slicedToArray(_useState, 2),\n    value = _useState2[0],\n    setValue = _useState2[1];\n  var transformerRef = useLatest(transformer);\n  var reset = useCallback(function () {\n    return setValue(initialValue);\n  }, []);\n  var onChange = useCallback(function (e) {\n    var _value = e.target.value;\n    if (isFunction(transformerRef.current)) {\n      return setValue(transformerRef.current(_value));\n    }\n    // no transformer => U and T should be the same\n    return setValue(_value);\n  }, []);\n  return [value, {\n    onChange: onChange,\n    reset: reset\n  }];\n}\nexport default useEventTarget;","map":{"version":3,"names":["useCallback","useState","useLatest","isFunction","useEventTarget","options","_ref","initialValue","transformer","_useState","_useState2","_slicedToArray","value","setValue","transformerRef","reset","onChange","e","_value","target","current"],"sources":["/Users/liusu/Desktop/h5_free/game/node_modules/ahooks/es/useEventTarget/index.js"],"sourcesContent":["import { useCallback, useState } from 'react';\nimport useLatest from '../useLatest';\nimport { isFunction } from '../utils';\nfunction useEventTarget(options) {\n  const {\n    initialValue,\n    transformer\n  } = options || {};\n  const [value, setValue] = useState(initialValue);\n  const transformerRef = useLatest(transformer);\n  const reset = useCallback(() => setValue(initialValue), []);\n  const onChange = useCallback(e => {\n    const _value = e.target.value;\n    if (isFunction(transformerRef.current)) {\n      return setValue(transformerRef.current(_value));\n    }\n    // no transformer => U and T should be the same\n    return setValue(_value);\n  }, []);\n  return [value, {\n    onChange,\n    reset\n  }];\n}\nexport default useEventTarget;"],"mappings":";AAAA,SAASA,WAAW,EAAEC,QAAQ,QAAQ,OAAO;AAC7C,OAAOC,SAAS,MAAM,cAAc;AACpC,SAASC,UAAU,QAAQ,UAAU;AACrC,SAASC,cAAcA,CAACC,OAAO,EAAE;EAC/B,IAAAC,IAAA,GAGID,OAAO,IAAI,CAAC,CAAC;IAFfE,YAAY,GAAAD,IAAA,CAAZC,YAAY;IACZC,WAAW,GAAAF,IAAA,CAAXE,WAAW;EAEb,IAAAC,SAAA,GAA0BR,QAAQ,CAACM,YAAY,CAAC;IAAAG,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAAzCG,KAAK,GAAAF,UAAA;IAAEG,QAAQ,GAAAH,UAAA;EACtB,IAAMI,cAAc,GAAGZ,SAAS,CAACM,WAAW,CAAC;EAC7C,IAAMO,KAAK,GAAGf,WAAW,CAAC;IAAA,OAAMa,QAAQ,CAACN,YAAY,CAAC;EAAA,GAAE,EAAE,CAAC;EAC3D,IAAMS,QAAQ,GAAGhB,WAAW,CAAC,UAAAiB,CAAC,EAAI;IAChC,IAAMC,MAAM,GAAGD,CAAC,CAACE,MAAM,CAACP,KAAK;IAC7B,IAAIT,UAAU,CAACW,cAAc,CAACM,OAAO,CAAC,EAAE;MACtC,OAAOP,QAAQ,CAACC,cAAc,CAACM,OAAO,CAACF,MAAM,CAAC,CAAC;IACjD;IACA;IACA,OAAOL,QAAQ,CAACK,MAAM,CAAC;EACzB,CAAC,EAAE,EAAE,CAAC;EACN,OAAO,CAACN,KAAK,EAAE;IACbI,QAAQ,EAARA,QAAQ;IACRD,KAAK,EAALA;EACF,CAAC,CAAC;AACJ;AACA,eAAeX,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}