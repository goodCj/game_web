{"ast":null,"code":"import _slicedToArray from \"/Users/liusu/Desktop/h5_free/game/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport { useCallback, useRef, useState } from 'react';\nimport useUnmount from '../useUnmount';\nfunction useRafState(initialState) {\n  var ref = useRef(0);\n  var _useState = useState(initialState),\n    _useState2 = _slicedToArray(_useState, 2),\n    state = _useState2[0],\n    setState = _useState2[1];\n  var setRafState = useCallback(function (value) {\n    cancelAnimationFrame(ref.current);\n    ref.current = requestAnimationFrame(function () {\n      setState(value);\n    });\n  }, []);\n  useUnmount(function () {\n    cancelAnimationFrame(ref.current);\n  });\n  return [state, setRafState];\n}\nexport default useRafState;","map":{"version":3,"names":["useCallback","useRef","useState","useUnmount","useRafState","initialState","ref","_useState","_useState2","_slicedToArray","state","setState","setRafState","value","cancelAnimationFrame","current","requestAnimationFrame"],"sources":["/Users/liusu/Desktop/h5_free/game/node_modules/ahooks/es/useRafState/index.js"],"sourcesContent":["import { useCallback, useRef, useState } from 'react';\nimport useUnmount from '../useUnmount';\nfunction useRafState(initialState) {\n  const ref = useRef(0);\n  const [state, setState] = useState(initialState);\n  const setRafState = useCallback(value => {\n    cancelAnimationFrame(ref.current);\n    ref.current = requestAnimationFrame(() => {\n      setState(value);\n    });\n  }, []);\n  useUnmount(() => {\n    cancelAnimationFrame(ref.current);\n  });\n  return [state, setRafState];\n}\nexport default useRafState;"],"mappings":";AAAA,SAASA,WAAW,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AACrD,OAAOC,UAAU,MAAM,eAAe;AACtC,SAASC,WAAWA,CAACC,YAAY,EAAE;EACjC,IAAMC,GAAG,GAAGL,MAAM,CAAC,CAAC,CAAC;EACrB,IAAAM,SAAA,GAA0BL,QAAQ,CAACG,YAAY,CAAC;IAAAG,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAAzCG,KAAK,GAAAF,UAAA;IAAEG,QAAQ,GAAAH,UAAA;EACtB,IAAMI,WAAW,GAAGZ,WAAW,CAAC,UAAAa,KAAK,EAAI;IACvCC,oBAAoB,CAACR,GAAG,CAACS,OAAO,CAAC;IACjCT,GAAG,CAACS,OAAO,GAAGC,qBAAqB,CAAC,YAAM;MACxCL,QAAQ,CAACE,KAAK,CAAC;IACjB,CAAC,CAAC;EACJ,CAAC,EAAE,EAAE,CAAC;EACNV,UAAU,CAAC,YAAM;IACfW,oBAAoB,CAACR,GAAG,CAACS,OAAO,CAAC;EACnC,CAAC,CAAC;EACF,OAAO,CAACL,KAAK,EAAEE,WAAW,CAAC;AAC7B;AACA,eAAeR,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}