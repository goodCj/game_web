{"ast":null,"code":"import throttle from 'lodash/throttle';\nimport { useMemo } from 'react';\nimport useLatest from '../useLatest';\nimport useUnmount from '../useUnmount';\nimport { isFunction } from '../utils';\nimport isDev from '../utils/isDev';\nfunction useThrottleFn(fn, options) {\n  var _a;\n  if (isDev) {\n    if (!isFunction(fn)) {\n      console.error(\"useThrottleFn expected parameter is a function, got \".concat(typeof fn));\n    }\n  }\n  var fnRef = useLatest(fn);\n  var wait = (_a = options === null || options === void 0 ? void 0 : options.wait) !== null && _a !== void 0 ? _a : 1000;\n  var throttled = useMemo(function () {\n    return throttle(function () {\n      return fnRef.current.apply(fnRef, arguments);\n    }, wait, options);\n  }, []);\n  useUnmount(function () {\n    throttled.cancel();\n  });\n  return {\n    run: throttled,\n    cancel: throttled.cancel,\n    flush: throttled.flush\n  };\n}\nexport default useThrottleFn;","map":{"version":3,"names":["throttle","useMemo","useLatest","useUnmount","isFunction","isDev","useThrottleFn","fn","options","_a","console","error","concat","fnRef","wait","throttled","current","apply","arguments","cancel","run","flush"],"sources":["/Users/liusu/Desktop/h5_free/game/node_modules/ahooks/es/useThrottleFn/index.js"],"sourcesContent":["import throttle from 'lodash/throttle';\nimport { useMemo } from 'react';\nimport useLatest from '../useLatest';\nimport useUnmount from '../useUnmount';\nimport { isFunction } from '../utils';\nimport isDev from '../utils/isDev';\nfunction useThrottleFn(fn, options) {\n  var _a;\n  if (isDev) {\n    if (!isFunction(fn)) {\n      console.error(`useThrottleFn expected parameter is a function, got ${typeof fn}`);\n    }\n  }\n  const fnRef = useLatest(fn);\n  const wait = (_a = options === null || options === void 0 ? void 0 : options.wait) !== null && _a !== void 0 ? _a : 1000;\n  const throttled = useMemo(() => throttle((...args) => {\n    return fnRef.current(...args);\n  }, wait, options), []);\n  useUnmount(() => {\n    throttled.cancel();\n  });\n  return {\n    run: throttled,\n    cancel: throttled.cancel,\n    flush: throttled.flush\n  };\n}\nexport default useThrottleFn;"],"mappings":"AAAA,OAAOA,QAAQ,MAAM,iBAAiB;AACtC,SAASC,OAAO,QAAQ,OAAO;AAC/B,OAAOC,SAAS,MAAM,cAAc;AACpC,OAAOC,UAAU,MAAM,eAAe;AACtC,SAASC,UAAU,QAAQ,UAAU;AACrC,OAAOC,KAAK,MAAM,gBAAgB;AAClC,SAASC,aAAaA,CAACC,EAAE,EAAEC,OAAO,EAAE;EAClC,IAAIC,EAAE;EACN,IAAIJ,KAAK,EAAE;IACT,IAAI,CAACD,UAAU,CAACG,EAAE,CAAC,EAAE;MACnBG,OAAO,CAACC,KAAK,wDAAAC,MAAA,CAAwD,OAAOL,EAAE,EAAG;IACnF;EACF;EACA,IAAMM,KAAK,GAAGX,SAAS,CAACK,EAAE,CAAC;EAC3B,IAAMO,IAAI,GAAG,CAACL,EAAE,GAAGD,OAAO,KAAK,IAAI,IAAIA,OAAO,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,OAAO,CAACM,IAAI,MAAM,IAAI,IAAIL,EAAE,KAAK,KAAK,CAAC,GAAGA,EAAE,GAAG,IAAI;EACxH,IAAMM,SAAS,GAAGd,OAAO,CAAC;IAAA,OAAMD,QAAQ,CAAC,YAAa;MACpD,OAAOa,KAAK,CAACG,OAAO,CAAAC,KAAA,CAAbJ,KAAK,EAAAK,SAAA,CAAiB;IAC/B,CAAC,EAAEJ,IAAI,EAAEN,OAAO,CAAC;EAAA,GAAE,EAAE,CAAC;EACtBL,UAAU,CAAC,YAAM;IACfY,SAAS,CAACI,MAAM,EAAE;EACpB,CAAC,CAAC;EACF,OAAO;IACLC,GAAG,EAAEL,SAAS;IACdI,MAAM,EAAEJ,SAAS,CAACI,MAAM;IACxBE,KAAK,EAAEN,SAAS,CAACM;EACnB,CAAC;AACH;AACA,eAAef,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}