{"ast":null,"code":"import _slicedToArray from\"/Users/liusu/Desktop/h5_free/game/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import\"./index.less\";import{useState,useEffect}from\"react\";import{Swiper}from\"antd-mobile\";import{useHistory}from\"react-router-dom\";import Games from\"../../json/game/index\";import OtherGames from\"./bottom-others\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Main=function Main(){var bannerItems=Games.bannerItems,recommendedGames=Games.recommendedGames,otherGames=Games.otherGames;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),banner=_useState2[0],setBanner=_useState2[1];var history=useHistory();var init=function init(){console.log(bannerItems);var bannerArr=bannerItems.map(function(item,index){return/*#__PURE__*/_jsx(Swiper.Item,{onClick:function onClick(){return goDetailPage(item,\"bannerItems\");},children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"img\",{className:\"swiperImage\",src:require(\"~static/bannerItems/\".concat(item.id,\".jpg\"))})})},item.id);});setBanner(bannerArr);};useEffect(function(){init();},[]);var goDetailPage=function goDetailPage(item,type){history.push({pathname:\"/detail\",state:{id:item.id,type:type}});};return/*#__PURE__*/_jsxs(\"div\",{className:\"gameListBox\",children:[/*#__PURE__*/_jsx(Swiper,{style:{height:250},loop:true,autoplay:true,allowTouchMove:true,autoplayInterval:\"3000\",indicator:function indicator(total,current){return/*#__PURE__*/_jsx(\"div\",{className:\"customIndicator\",children:bannerItems.map(function(item,index){return/*#__PURE__*/_jsx(\"div\",{className:current===index?\"customIndicatorItem currentItem\":\"customIndicatorItem\",children:/*#__PURE__*/_jsx(\"img\",{src:require(\"~static/bannerItems/\".concat(item.id,\"-small.jpg\"))})});})});},children:banner}),/*#__PURE__*/_jsxs(\"div\",{className:\"floor-game\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"block-gradient\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"block-recomended\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"title\",children:\"Recommended\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"gamePart\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"top\",children:recommendedGames.slice(0,4).map(function(item){return/*#__PURE__*/_jsx(\"img\",{onClick:function onClick(){return goDetailPage(item,\"recommendedGames\");},className:\"gameImg\",src:require(\"~static/recommendedGames/\".concat(item.id,\".jpg\"))});})}),/*#__PURE__*/_jsxs(\"div\",{className:\"bottom\",children:[/*#__PURE__*/_jsx(\"img\",{onClick:function onClick(){return goDetailPage(recommendedGames[4],\"recommendedGames\");},className:\"gameImg bigImg\",src:require(\"~static/recommendedGames/\".concat(recommendedGames[4].id,\".jpg\"))}),/*#__PURE__*/_jsx(\"div\",{className:\"right\",children:recommendedGames.slice(5).map(function(item){return/*#__PURE__*/_jsx(\"img\",{onClick:function onClick(){return goDetailPage(item,\"recommendedGames\");},className:\"gameImg\",src:require(\"~static/recommendedGames/\".concat(item.id,\".jpg\"))});})})]})]})]}),/*#__PURE__*/_jsx(OtherGames,{title:\"Hot Games\",goDetailPage:goDetailPage})]})]});};export default Main;","map":{"version":3,"names":["useState","useEffect","Swiper","useHistory","Games","OtherGames","jsx","_jsx","jsxs","_jsxs","Main","bannerItems","recommendedGames","otherGames","_useState","_useState2","_slicedToArray","banner","setBanner","history","init","console","log","bannerArr","map","item","index","Item","onClick","goDetailPage","children","className","src","require","concat","id","type","push","pathname","state","style","height","loop","autoplay","allowTouchMove","autoplayInterval","indicator","total","current","slice","title"],"sources":["/Users/liusu/Desktop/h5_free/game/src/pages/main/index.jsx"],"sourcesContent":["import \"./index.less\";\nimport { useState, useEffect } from \"react\";\nimport { Swiper } from \"antd-mobile\";\nimport { useHistory } from \"react-router-dom\";\nimport Games from \"../../json/game/index\";\nimport OtherGames from \"./bottom-others\";\nconst Main = () => {\n  const { bannerItems, recommendedGames, otherGames } = Games;\n  const [banner, setBanner] = useState([]);\n  const history = useHistory();\n  const init = () => {\n    console.log(bannerItems);\n    const bannerArr = bannerItems.map((item, index) => {\n      return (\n        <Swiper.Item\n          key={item.id}\n          onClick={() => goDetailPage(item, \"bannerItems\")}\n        >\n          <div>\n            <img\n              className=\"swiperImage\"\n              src={require(`~static/bannerItems/${item.id}.jpg`)}\n            ></img>\n          </div>\n        </Swiper.Item>\n      );\n    });\n    setBanner(bannerArr);\n  };\n\n  useEffect(() => {\n    init();\n  }, []);\n\n  const goDetailPage = (item, type) => {\n    history.push({\n      pathname: \"/detail\",\n      state: {\n        id: item.id,\n        type,\n      },\n    });\n  };\n\n  return (\n    <div className=\"gameListBox\">\n      {/* 轮播图 */}\n      <Swiper\n        style={{ height: 250 }}\n        loop\n        autoplay\n        allowTouchMove\n        autoplayInterval=\"3000\"\n        indicator={(total, current) => (\n          <div className=\"customIndicator\">\n            {bannerItems.map((item, index) => (\n              <div\n                className={\n                  current === index\n                    ? \"customIndicatorItem currentItem\"\n                    : \"customIndicatorItem\"\n                }\n              >\n                <img\n                  src={require(`~static/bannerItems/${item.id}-small.jpg`)}\n                ></img>\n              </div>\n            ))}\n          </div>\n        )}\n      >\n        {banner}\n      </Swiper>\n      <div className=\"floor-game\">\n        <div className=\"block-gradient\"></div>\n        <div className=\"block-recomended\">\n          <div className=\"title\">Recommended</div>\n          <div className=\"gamePart\">\n            <div className=\"top\">\n              {recommendedGames.slice(0, 4).map((item) => (\n                <img\n                  onClick={() => goDetailPage(item, \"recommendedGames\")}\n                  className=\"gameImg\"\n                  src={require(`~static/recommendedGames/${item.id}.jpg`)}\n                ></img>\n              ))}\n            </div>\n            <div className=\"bottom\">\n              <img\n                onClick={() =>\n                  goDetailPage(recommendedGames[4], \"recommendedGames\")\n                }\n                className=\"gameImg bigImg\"\n                src={require(`~static/recommendedGames/${recommendedGames[4].id}.jpg`)}\n              ></img>\n              <div className=\"right\">\n                {recommendedGames.slice(5).map((item) => (\n                  <img\n                    onClick={() => goDetailPage(item, \"recommendedGames\")}\n                    className=\"gameImg\"\n                    src={require(`~static/recommendedGames/${item.id}.jpg`)}\n                  ></img>\n                ))}\n              </div>\n            </div>\n          </div>\n        </div>\n        <OtherGames title=\"Hot Games\" goDetailPage={goDetailPage} />\n      </div>\n    </div>\n  );\n};\n\nexport default Main;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}