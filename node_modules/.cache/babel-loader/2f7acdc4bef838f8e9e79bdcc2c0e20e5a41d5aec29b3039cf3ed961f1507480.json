{"ast":null,"code":"import _slicedToArray from \"/Users/liusu/Desktop/h5_free/game/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport { __rest } from \"tslib\";\nimport Cookies from 'js-cookie';\nimport { useState } from 'react';\nimport useMemoizedFn from '../useMemoizedFn';\nimport { isFunction, isString } from '../utils';\nfunction useCookieState(cookieKey) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var _useState = useState(function () {\n      var cookieValue = Cookies.get(cookieKey);\n      if (isString(cookieValue)) return cookieValue;\n      if (isFunction(options.defaultValue)) {\n        return options.defaultValue();\n      }\n      return options.defaultValue;\n    }),\n    _useState2 = _slicedToArray(_useState, 2),\n    state = _useState2[0],\n    setState = _useState2[1];\n  var updateState = useMemoizedFn(function (newValue) {\n    var newOptions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var _a = Object.assign(Object.assign({}, options), newOptions),\n      defaultValue = _a.defaultValue,\n      restOptions = __rest(_a, [\"defaultValue\"]);\n    setState(function (prevState) {\n      var value = isFunction(newValue) ? newValue(prevState) : newValue;\n      if (value === undefined) {\n        Cookies.remove(cookieKey);\n      } else {\n        Cookies.set(cookieKey, value, restOptions);\n      }\n      return value;\n    });\n  });\n  return [state, updateState];\n}\nexport default useCookieState;","map":{"version":3,"names":["__rest","Cookies","useState","useMemoizedFn","isFunction","isString","useCookieState","cookieKey","options","arguments","length","undefined","_useState","cookieValue","get","defaultValue","_useState2","_slicedToArray","state","setState","updateState","newValue","newOptions","_a","Object","assign","restOptions","prevState","value","remove","set"],"sources":["/Users/liusu/Desktop/h5_free/game/node_modules/ahooks/es/useCookieState/index.js"],"sourcesContent":["import { __rest } from \"tslib\";\nimport Cookies from 'js-cookie';\nimport { useState } from 'react';\nimport useMemoizedFn from '../useMemoizedFn';\nimport { isFunction, isString } from '../utils';\nfunction useCookieState(cookieKey, options = {}) {\n  const [state, setState] = useState(() => {\n    const cookieValue = Cookies.get(cookieKey);\n    if (isString(cookieValue)) return cookieValue;\n    if (isFunction(options.defaultValue)) {\n      return options.defaultValue();\n    }\n    return options.defaultValue;\n  });\n  const updateState = useMemoizedFn((newValue, newOptions = {}) => {\n    const _a = Object.assign(Object.assign({}, options), newOptions),\n      {\n        defaultValue\n      } = _a,\n      restOptions = __rest(_a, [\"defaultValue\"]);\n    setState(prevState => {\n      const value = isFunction(newValue) ? newValue(prevState) : newValue;\n      if (value === undefined) {\n        Cookies.remove(cookieKey);\n      } else {\n        Cookies.set(cookieKey, value, restOptions);\n      }\n      return value;\n    });\n  });\n  return [state, updateState];\n}\nexport default useCookieState;"],"mappings":";AAAA,SAASA,MAAM,QAAQ,OAAO;AAC9B,OAAOC,OAAO,MAAM,WAAW;AAC/B,SAASC,QAAQ,QAAQ,OAAO;AAChC,OAAOC,aAAa,MAAM,kBAAkB;AAC5C,SAASC,UAAU,EAAEC,QAAQ,QAAQ,UAAU;AAC/C,SAASC,cAAcA,CAACC,SAAS,EAAgB;EAAA,IAAdC,OAAO,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;EAC7C,IAAAG,SAAA,GAA0BV,QAAQ,CAAC,YAAM;MACvC,IAAMW,WAAW,GAAGZ,OAAO,CAACa,GAAG,CAACP,SAAS,CAAC;MAC1C,IAAIF,QAAQ,CAACQ,WAAW,CAAC,EAAE,OAAOA,WAAW;MAC7C,IAAIT,UAAU,CAACI,OAAO,CAACO,YAAY,CAAC,EAAE;QACpC,OAAOP,OAAO,CAACO,YAAY,EAAE;MAC/B;MACA,OAAOP,OAAO,CAACO,YAAY;IAC7B,CAAC,CAAC;IAAAC,UAAA,GAAAC,cAAA,CAAAL,SAAA;IAPKM,KAAK,GAAAF,UAAA;IAAEG,QAAQ,GAAAH,UAAA;EAQtB,IAAMI,WAAW,GAAGjB,aAAa,CAAC,UAACkB,QAAQ,EAAsB;IAAA,IAApBC,UAAU,GAAAb,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;IACpD,IAAAc,EAAE,GAAGC,MAAM,CAACC,MAAM,CAACD,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAEjB,OAAO,CAAC,EAAEc,UAAU,CAAC;MAE5DP,YAAY,GACVQ,EAAE,CADJR,YAAY;MAEdW,WAAW,GAAG1B,MAAM,CAACuB,EAAE,EAAE,CAAC,cAAc,CAAC,CAAC;IAC5CJ,QAAQ,CAAC,UAAAQ,SAAS,EAAI;MACpB,IAAMC,KAAK,GAAGxB,UAAU,CAACiB,QAAQ,CAAC,GAAGA,QAAQ,CAACM,SAAS,CAAC,GAAGN,QAAQ;MACnE,IAAIO,KAAK,KAAKjB,SAAS,EAAE;QACvBV,OAAO,CAAC4B,MAAM,CAACtB,SAAS,CAAC;MAC3B,CAAC,MAAM;QACLN,OAAO,CAAC6B,GAAG,CAACvB,SAAS,EAAEqB,KAAK,EAAEF,WAAW,CAAC;MAC5C;MACA,OAAOE,KAAK;IACd,CAAC,CAAC;EACJ,CAAC,CAAC;EACF,OAAO,CAACV,KAAK,EAAEE,WAAW,CAAC;AAC7B;AACA,eAAed,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}