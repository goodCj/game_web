{"ast":null,"code":"import _toConsumableArray from \"/Users/liusu/Desktop/h5_free/game/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _defineProperty from \"/Users/liusu/Desktop/h5_free/game/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _slicedToArray from \"/Users/liusu/Desktop/h5_free/game/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport classNames from 'classnames';\nimport React from 'react';\nimport { withNativeProps } from '../../utils/native-props';\nimport { mergeProps } from '../../utils/with-default-props';\nimport Space from '../space';\nimport Grid from '../grid';\nimport { usePropsValue } from '../../utils/use-props-value';\nimport { CheckMark } from './check-mark';\nvar classPrefix = \"adm-selector\";\nvar defaultProps = {\n  multiple: false,\n  defaultValue: [],\n  showCheckMark: true\n};\nexport var Selector = function Selector(p) {\n  var props = mergeProps(defaultProps, p);\n  var _usePropsValue = usePropsValue({\n      value: props.value,\n      defaultValue: props.defaultValue,\n      onChange: function onChange(val) {\n        var _a;\n        var extend = {\n          get items() {\n            return props.options.filter(function (option) {\n              return val.includes(option.value);\n            });\n          }\n        };\n        (_a = props.onChange) === null || _a === void 0 ? void 0 : _a.call(props, val, extend);\n      }\n    }),\n    _usePropsValue2 = _slicedToArray(_usePropsValue, 2),\n    value = _usePropsValue2[0],\n    setValue = _usePropsValue2[1];\n  var items = props.options.map(function (option) {\n    var _classNames;\n    var active = (value || []).includes(option.value);\n    var disabled = option.disabled || props.disabled;\n    var itemCls = classNames(\"\".concat(classPrefix, \"-item\"), (_classNames = {}, _defineProperty(_classNames, \"\".concat(classPrefix, \"-item-active\"), active && !props.multiple), _defineProperty(_classNames, \"\".concat(classPrefix, \"-item-multiple-active\"), active && props.multiple), _defineProperty(_classNames, \"\".concat(classPrefix, \"-item-disabled\"), disabled), _classNames));\n    return React.createElement(\"div\", {\n      key: option.value,\n      className: itemCls,\n      onClick: function onClick() {\n        if (disabled) {\n          return;\n        }\n        if (props.multiple) {\n          var val = active ? value.filter(function (v) {\n            return v !== option.value;\n          }) : [].concat(_toConsumableArray(value), [option.value]);\n          setValue(val);\n        } else {\n          var _val = active ? [] : [option.value];\n          setValue(_val);\n        }\n      }\n    }, option.label, option.description && React.createElement(\"div\", {\n      className: \"\".concat(classPrefix, \"-item-description\")\n    }, option.description), active && props.showCheckMark && React.createElement(\"div\", {\n      className: \"\".concat(classPrefix, \"-check-mark-wrapper\")\n    }, React.createElement(CheckMark, null)));\n  });\n  return withNativeProps(props, React.createElement(\"div\", {\n    className: classPrefix\n  }, !props.columns && React.createElement(Space, {\n    wrap: true\n  }, items), props.columns && React.createElement(Grid, {\n    columns: props.columns\n  }, items)));\n};","map":{"version":3,"names":["classNames","React","withNativeProps","mergeProps","Space","Grid","usePropsValue","CheckMark","classPrefix","defaultProps","multiple","defaultValue","showCheckMark","Selector","p","props","_usePropsValue","value","onChange","val","_a","extend","items","options","filter","option","includes","call","_usePropsValue2","_slicedToArray","setValue","map","_classNames","active","disabled","itemCls","concat","_defineProperty","createElement","key","className","onClick","v","_toConsumableArray","label","description","columns","wrap"],"sources":["/Users/liusu/Desktop/h5_free/game/node_modules/antd-mobile/es/components/selector/selector.js"],"sourcesContent":["import classNames from 'classnames';\nimport React from 'react';\nimport { withNativeProps } from '../../utils/native-props';\nimport { mergeProps } from '../../utils/with-default-props';\nimport Space from '../space';\nimport Grid from '../grid';\nimport { usePropsValue } from '../../utils/use-props-value';\nimport { CheckMark } from './check-mark';\nconst classPrefix = `adm-selector`;\nconst defaultProps = {\n  multiple: false,\n  defaultValue: [],\n  showCheckMark: true\n};\nexport const Selector = p => {\n  const props = mergeProps(defaultProps, p);\n  const [value, setValue] = usePropsValue({\n    value: props.value,\n    defaultValue: props.defaultValue,\n    onChange: val => {\n      var _a;\n      const extend = {\n        get items() {\n          return props.options.filter(option => val.includes(option.value));\n        }\n      };\n      (_a = props.onChange) === null || _a === void 0 ? void 0 : _a.call(props, val, extend);\n    }\n  });\n  const items = props.options.map(option => {\n    const active = (value || []).includes(option.value);\n    const disabled = option.disabled || props.disabled;\n    const itemCls = classNames(`${classPrefix}-item`, {\n      [`${classPrefix}-item-active`]: active && !props.multiple,\n      [`${classPrefix}-item-multiple-active`]: active && props.multiple,\n      [`${classPrefix}-item-disabled`]: disabled\n    });\n    return React.createElement(\"div\", {\n      key: option.value,\n      className: itemCls,\n      onClick: () => {\n        if (disabled) {\n          return;\n        }\n        if (props.multiple) {\n          const val = active ? value.filter(v => v !== option.value) : [...value, option.value];\n          setValue(val);\n        } else {\n          const val = active ? [] : [option.value];\n          setValue(val);\n        }\n      }\n    }, option.label, option.description && React.createElement(\"div\", {\n      className: `${classPrefix}-item-description`\n    }, option.description), active && props.showCheckMark && React.createElement(\"div\", {\n      className: `${classPrefix}-check-mark-wrapper`\n    }, React.createElement(CheckMark, null)));\n  });\n  return withNativeProps(props, React.createElement(\"div\", {\n    className: classPrefix\n  }, !props.columns && React.createElement(Space, {\n    wrap: true\n  }, items), props.columns && React.createElement(Grid, {\n    columns: props.columns\n  }, items)));\n};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}