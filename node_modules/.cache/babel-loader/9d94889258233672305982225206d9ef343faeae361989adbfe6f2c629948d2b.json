{"ast":null,"code":"import _defineProperty from \"/Users/liusu/Desktop/h5_free/game/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _slicedToArray from \"/Users/liusu/Desktop/h5_free/game/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport React, { useRef } from 'react';\nimport classNames from 'classnames';\nimport { animated } from '@react-spring/web';\nimport { withNativeProps } from '../../utils/native-props';\nimport { usePropsValue } from '../../utils/use-props-value';\nimport { useResizeEffect } from '../../utils/use-resize-effect';\nimport { useTabListScroll } from '../../utils/use-tab-list-scroll';\nimport ScrollMask from '../scroll-mask';\nimport { ShouldRender } from '../../utils/should-render';\nimport { traverseReactNode } from '../../utils/traverse-react-node';\nvar classPrefix = \"adm-jumbo-tabs\";\nexport var JumboTab = function JumboTab() {\n  return null;\n};\nexport var JumboTabs = function JumboTabs(props) {\n  var _a;\n  var tabListContainerRef = useRef(null);\n  var rootRef = useRef(null);\n  var keyToIndexRecord = {};\n  var firstActiveKey = null;\n  var panes = [];\n  traverseReactNode(props.children, function (child, index) {\n    if (!React.isValidElement(child)) return;\n    var key = child.key;\n    if (typeof key !== 'string') return;\n    if (index === 0) {\n      firstActiveKey = key;\n    }\n    var length = panes.push(child);\n    keyToIndexRecord[key] = length - 1;\n  });\n  var _usePropsValue = usePropsValue({\n      value: props.activeKey,\n      defaultValue: (_a = props.defaultActiveKey) !== null && _a !== void 0 ? _a : firstActiveKey,\n      onChange: function onChange(v) {\n        var _a;\n        if (v === null) return;\n        (_a = props.onChange) === null || _a === void 0 ? void 0 : _a.call(props, v);\n      }\n    }),\n    _usePropsValue2 = _slicedToArray(_usePropsValue, 2),\n    activeKey = _usePropsValue2[0],\n    setActiveKey = _usePropsValue2[1];\n  var _useTabListScroll = useTabListScroll(tabListContainerRef, keyToIndexRecord[activeKey]),\n    scrollLeft = _useTabListScroll.scrollLeft,\n    animate = _useTabListScroll.animate;\n  useResizeEffect(function () {\n    animate(true);\n  }, rootRef);\n  return withNativeProps(props, React.createElement(\"div\", {\n    className: classPrefix,\n    ref: rootRef\n  }, React.createElement(\"div\", {\n    className: \"\".concat(classPrefix, \"-header\")\n  }, React.createElement(ScrollMask, {\n    scrollTrackRef: tabListContainerRef\n  }), React.createElement(animated.div, {\n    className: \"\".concat(classPrefix, \"-tab-list\"),\n    ref: tabListContainerRef,\n    scrollLeft: scrollLeft\n  }, panes.map(function (pane) {\n    var _classNames;\n    return withNativeProps(pane.props, React.createElement(\"div\", {\n      key: pane.key,\n      className: \"\".concat(classPrefix, \"-tab-wrapper\")\n    }, React.createElement(\"div\", {\n      onClick: function onClick() {\n        var key = pane.key;\n        if (pane.props.disabled) return;\n        if (key === undefined || key === null) {\n          return;\n        }\n        setActiveKey(key.toString());\n      },\n      className: classNames(\"\".concat(classPrefix, \"-tab\"), (_classNames = {}, _defineProperty(_classNames, \"\".concat(classPrefix, \"-tab-active\"), pane.key === activeKey), _defineProperty(_classNames, \"\".concat(classPrefix, \"-tab-disabled\"), pane.props.disabled), _classNames))\n    }, React.createElement(\"div\", {\n      className: \"\".concat(classPrefix, \"-tab-title\")\n    }, pane.props.title), React.createElement(\"div\", {\n      className: \"\".concat(classPrefix, \"-tab-description\")\n    }, pane.props.description))));\n  }))), panes.map(function (pane) {\n    if (pane.props.children === undefined) {\n      return null;\n    }\n    var active = pane.key === activeKey;\n    return React.createElement(ShouldRender, {\n      key: pane.key,\n      active: active,\n      forceRender: pane.props.forceRender,\n      destroyOnClose: pane.props.destroyOnClose\n    }, React.createElement(\"div\", {\n      className: \"\".concat(classPrefix, \"-content\"),\n      style: {\n        display: active ? 'block' : 'none'\n      }\n    }, pane.props.children));\n  })));\n};","map":{"version":3,"names":["React","useRef","classNames","animated","withNativeProps","usePropsValue","useResizeEffect","useTabListScroll","ScrollMask","ShouldRender","traverseReactNode","classPrefix","JumboTab","JumboTabs","props","_a","tabListContainerRef","rootRef","keyToIndexRecord","firstActiveKey","panes","children","child","index","isValidElement","key","length","push","_usePropsValue","value","activeKey","defaultValue","defaultActiveKey","onChange","v","call","_usePropsValue2","_slicedToArray","setActiveKey","_useTabListScroll","scrollLeft","animate","createElement","className","ref","concat","scrollTrackRef","div","map","pane","_classNames","onClick","disabled","undefined","toString","_defineProperty","title","description","active","forceRender","destroyOnClose","style","display"],"sources":["/Users/liusu/Desktop/h5_free/game/node_modules/antd-mobile/es/components/jumbo-tabs/jumbo-tabs.js"],"sourcesContent":["import React, { useRef } from 'react';\nimport classNames from 'classnames';\nimport { animated } from '@react-spring/web';\nimport { withNativeProps } from '../../utils/native-props';\nimport { usePropsValue } from '../../utils/use-props-value';\nimport { useResizeEffect } from '../../utils/use-resize-effect';\nimport { useTabListScroll } from '../../utils/use-tab-list-scroll';\nimport ScrollMask from '../scroll-mask';\nimport { ShouldRender } from '../../utils/should-render';\nimport { traverseReactNode } from '../../utils/traverse-react-node';\nconst classPrefix = `adm-jumbo-tabs`;\nexport const JumboTab = () => {\n  return null;\n};\nexport const JumboTabs = props => {\n  var _a;\n  const tabListContainerRef = useRef(null);\n  const rootRef = useRef(null);\n  const keyToIndexRecord = {};\n  let firstActiveKey = null;\n  const panes = [];\n  traverseReactNode(props.children, (child, index) => {\n    if (!React.isValidElement(child)) return;\n    const key = child.key;\n    if (typeof key !== 'string') return;\n    if (index === 0) {\n      firstActiveKey = key;\n    }\n    const length = panes.push(child);\n    keyToIndexRecord[key] = length - 1;\n  });\n  const [activeKey, setActiveKey] = usePropsValue({\n    value: props.activeKey,\n    defaultValue: (_a = props.defaultActiveKey) !== null && _a !== void 0 ? _a : firstActiveKey,\n    onChange: v => {\n      var _a;\n      if (v === null) return;\n      (_a = props.onChange) === null || _a === void 0 ? void 0 : _a.call(props, v);\n    }\n  });\n  const {\n    scrollLeft,\n    animate\n  } = useTabListScroll(tabListContainerRef, keyToIndexRecord[activeKey]);\n  useResizeEffect(() => {\n    animate(true);\n  }, rootRef);\n  return withNativeProps(props, React.createElement(\"div\", {\n    className: classPrefix,\n    ref: rootRef\n  }, React.createElement(\"div\", {\n    className: `${classPrefix}-header`\n  }, React.createElement(ScrollMask, {\n    scrollTrackRef: tabListContainerRef\n  }), React.createElement(animated.div, {\n    className: `${classPrefix}-tab-list`,\n    ref: tabListContainerRef,\n    scrollLeft: scrollLeft\n  }, panes.map(pane => withNativeProps(pane.props, React.createElement(\"div\", {\n    key: pane.key,\n    className: `${classPrefix}-tab-wrapper`\n  }, React.createElement(\"div\", {\n    onClick: () => {\n      const {\n        key\n      } = pane;\n      if (pane.props.disabled) return;\n      if (key === undefined || key === null) {\n        return;\n      }\n      setActiveKey(key.toString());\n    },\n    className: classNames(`${classPrefix}-tab`, {\n      [`${classPrefix}-tab-active`]: pane.key === activeKey,\n      [`${classPrefix}-tab-disabled`]: pane.props.disabled\n    })\n  }, React.createElement(\"div\", {\n    className: `${classPrefix}-tab-title`\n  }, pane.props.title), React.createElement(\"div\", {\n    className: `${classPrefix}-tab-description`\n  }, pane.props.description))))))), panes.map(pane => {\n    if (pane.props.children === undefined) {\n      return null;\n    }\n    const active = pane.key === activeKey;\n    return React.createElement(ShouldRender, {\n      key: pane.key,\n      active: active,\n      forceRender: pane.props.forceRender,\n      destroyOnClose: pane.props.destroyOnClose\n    }, React.createElement(\"div\", {\n      className: `${classPrefix}-content`,\n      style: {\n        display: active ? 'block' : 'none'\n      }\n    }, pane.props.children));\n  })));\n};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}