{"ast":null,"code":"import _slicedToArray from \"/Users/liusu/Desktop/h5_free/game/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport { useMemo, useState } from 'react';\nimport useMemoizedFn from '../useMemoizedFn';\nexport default function useSelections(items) {\n  var defaultSelected = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  var _useState = useState(defaultSelected),\n    _useState2 = _slicedToArray(_useState, 2),\n    selected = _useState2[0],\n    setSelected = _useState2[1];\n  var selectedSet = useMemo(function () {\n    return new Set(selected);\n  }, [selected]);\n  var isSelected = function isSelected(item) {\n    return selectedSet.has(item);\n  };\n  var select = function select(item) {\n    selectedSet.add(item);\n    return setSelected(Array.from(selectedSet));\n  };\n  var unSelect = function unSelect(item) {\n    selectedSet.delete(item);\n    return setSelected(Array.from(selectedSet));\n  };\n  var toggle = function toggle(item) {\n    if (isSelected(item)) {\n      unSelect(item);\n    } else {\n      select(item);\n    }\n  };\n  var selectAll = function selectAll() {\n    items.forEach(function (o) {\n      selectedSet.add(o);\n    });\n    setSelected(Array.from(selectedSet));\n  };\n  var unSelectAll = function unSelectAll() {\n    items.forEach(function (o) {\n      selectedSet.delete(o);\n    });\n    setSelected(Array.from(selectedSet));\n  };\n  var noneSelected = useMemo(function () {\n    return items.every(function (o) {\n      return !selectedSet.has(o);\n    });\n  }, [items, selectedSet]);\n  var allSelected = useMemo(function () {\n    return items.every(function (o) {\n      return selectedSet.has(o);\n    }) && !noneSelected;\n  }, [items, selectedSet, noneSelected]);\n  var partiallySelected = useMemo(function () {\n    return !noneSelected && !allSelected;\n  }, [noneSelected, allSelected]);\n  var toggleAll = function toggleAll() {\n    return allSelected ? unSelectAll() : selectAll();\n  };\n  return {\n    selected: selected,\n    noneSelected: noneSelected,\n    allSelected: allSelected,\n    partiallySelected: partiallySelected,\n    setSelected: setSelected,\n    isSelected: isSelected,\n    select: useMemoizedFn(select),\n    unSelect: useMemoizedFn(unSelect),\n    toggle: useMemoizedFn(toggle),\n    selectAll: useMemoizedFn(selectAll),\n    unSelectAll: useMemoizedFn(unSelectAll),\n    toggleAll: useMemoizedFn(toggleAll)\n  };\n}","map":{"version":3,"names":["useMemo","useState","useMemoizedFn","useSelections","items","defaultSelected","arguments","length","undefined","_useState","_useState2","_slicedToArray","selected","setSelected","selectedSet","Set","isSelected","item","has","select","add","Array","from","unSelect","delete","toggle","selectAll","forEach","o","unSelectAll","noneSelected","every","allSelected","partiallySelected","toggleAll"],"sources":["/Users/liusu/Desktop/h5_free/game/node_modules/ahooks/es/useSelections/index.js"],"sourcesContent":["import { useMemo, useState } from 'react';\nimport useMemoizedFn from '../useMemoizedFn';\nexport default function useSelections(items, defaultSelected = []) {\n  const [selected, setSelected] = useState(defaultSelected);\n  const selectedSet = useMemo(() => new Set(selected), [selected]);\n  const isSelected = item => selectedSet.has(item);\n  const select = item => {\n    selectedSet.add(item);\n    return setSelected(Array.from(selectedSet));\n  };\n  const unSelect = item => {\n    selectedSet.delete(item);\n    return setSelected(Array.from(selectedSet));\n  };\n  const toggle = item => {\n    if (isSelected(item)) {\n      unSelect(item);\n    } else {\n      select(item);\n    }\n  };\n  const selectAll = () => {\n    items.forEach(o => {\n      selectedSet.add(o);\n    });\n    setSelected(Array.from(selectedSet));\n  };\n  const unSelectAll = () => {\n    items.forEach(o => {\n      selectedSet.delete(o);\n    });\n    setSelected(Array.from(selectedSet));\n  };\n  const noneSelected = useMemo(() => items.every(o => !selectedSet.has(o)), [items, selectedSet]);\n  const allSelected = useMemo(() => items.every(o => selectedSet.has(o)) && !noneSelected, [items, selectedSet, noneSelected]);\n  const partiallySelected = useMemo(() => !noneSelected && !allSelected, [noneSelected, allSelected]);\n  const toggleAll = () => allSelected ? unSelectAll() : selectAll();\n  return {\n    selected,\n    noneSelected,\n    allSelected,\n    partiallySelected,\n    setSelected,\n    isSelected,\n    select: useMemoizedFn(select),\n    unSelect: useMemoizedFn(unSelect),\n    toggle: useMemoizedFn(toggle),\n    selectAll: useMemoizedFn(selectAll),\n    unSelectAll: useMemoizedFn(unSelectAll),\n    toggleAll: useMemoizedFn(toggleAll)\n  };\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}