{"ast":null,"code":"import _slicedToArray from \"/Users/liusu/Desktop/h5_free/game/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport ResizeObserver from 'resize-observer-polyfill';\nimport useRafState from '../useRafState';\nimport { getTargetElement } from '../utils/domTarget';\nimport useIsomorphicLayoutEffectWithTarget from '../utils/useIsomorphicLayoutEffectWithTarget';\nfunction useSize(target) {\n  var _useRafState = useRafState(),\n    _useRafState2 = _slicedToArray(_useRafState, 2),\n    state = _useRafState2[0],\n    setState = _useRafState2[1];\n  useIsomorphicLayoutEffectWithTarget(function () {\n    var el = getTargetElement(target);\n    if (!el) {\n      return;\n    }\n    var resizeObserver = new ResizeObserver(function (entries) {\n      entries.forEach(function (entry) {\n        var _entry$target = entry.target,\n          clientWidth = _entry$target.clientWidth,\n          clientHeight = _entry$target.clientHeight;\n        setState({\n          width: clientWidth,\n          height: clientHeight\n        });\n      });\n    });\n    resizeObserver.observe(el);\n    return function () {\n      resizeObserver.disconnect();\n    };\n  }, [], target);\n  return state;\n}\nexport default useSize;","map":{"version":3,"names":["ResizeObserver","useRafState","getTargetElement","useIsomorphicLayoutEffectWithTarget","useSize","target","_useRafState","_useRafState2","_slicedToArray","state","setState","el","resizeObserver","entries","forEach","entry","_entry$target","clientWidth","clientHeight","width","height","observe","disconnect"],"sources":["/Users/liusu/Desktop/h5_free/game/node_modules/ahooks/es/useSize/index.js"],"sourcesContent":["import ResizeObserver from 'resize-observer-polyfill';\nimport useRafState from '../useRafState';\nimport { getTargetElement } from '../utils/domTarget';\nimport useIsomorphicLayoutEffectWithTarget from '../utils/useIsomorphicLayoutEffectWithTarget';\nfunction useSize(target) {\n  const [state, setState] = useRafState();\n  useIsomorphicLayoutEffectWithTarget(() => {\n    const el = getTargetElement(target);\n    if (!el) {\n      return;\n    }\n    const resizeObserver = new ResizeObserver(entries => {\n      entries.forEach(entry => {\n        const {\n          clientWidth,\n          clientHeight\n        } = entry.target;\n        setState({\n          width: clientWidth,\n          height: clientHeight\n        });\n      });\n    });\n    resizeObserver.observe(el);\n    return () => {\n      resizeObserver.disconnect();\n    };\n  }, [], target);\n  return state;\n}\nexport default useSize;"],"mappings":";AAAA,OAAOA,cAAc,MAAM,0BAA0B;AACrD,OAAOC,WAAW,MAAM,gBAAgB;AACxC,SAASC,gBAAgB,QAAQ,oBAAoB;AACrD,OAAOC,mCAAmC,MAAM,8CAA8C;AAC9F,SAASC,OAAOA,CAACC,MAAM,EAAE;EACvB,IAAAC,YAAA,GAA0BL,WAAW,EAAE;IAAAM,aAAA,GAAAC,cAAA,CAAAF,YAAA;IAAhCG,KAAK,GAAAF,aAAA;IAAEG,QAAQ,GAAAH,aAAA;EACtBJ,mCAAmC,CAAC,YAAM;IACxC,IAAMQ,EAAE,GAAGT,gBAAgB,CAACG,MAAM,CAAC;IACnC,IAAI,CAACM,EAAE,EAAE;MACP;IACF;IACA,IAAMC,cAAc,GAAG,IAAIZ,cAAc,CAAC,UAAAa,OAAO,EAAI;MACnDA,OAAO,CAACC,OAAO,CAAC,UAAAC,KAAK,EAAI;QACvB,IAAAC,aAAA,GAGID,KAAK,CAACV,MAAM;UAFdY,WAAW,GAAAD,aAAA,CAAXC,WAAW;UACXC,YAAY,GAAAF,aAAA,CAAZE,YAAY;QAEdR,QAAQ,CAAC;UACPS,KAAK,EAAEF,WAAW;UAClBG,MAAM,EAAEF;QACV,CAAC,CAAC;MACJ,CAAC,CAAC;IACJ,CAAC,CAAC;IACFN,cAAc,CAACS,OAAO,CAACV,EAAE,CAAC;IAC1B,OAAO,YAAM;MACXC,cAAc,CAACU,UAAU,EAAE;IAC7B,CAAC;EACH,CAAC,EAAE,EAAE,EAAEjB,MAAM,CAAC;EACd,OAAOI,KAAK;AACd;AACA,eAAeL,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}