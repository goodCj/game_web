{"ast":null,"code":"import _defineProperty from \"/Users/liusu/Desktop/h5_free/game/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _slicedToArray from \"/Users/liusu/Desktop/h5_free/game/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport React from 'react';\nimport classNames from 'classnames';\nimport { withNativeProps } from '../../utils/native-props';\nimport { mergeProps } from '../../utils/with-default-props';\nimport Badge from '../badge';\nimport SafeArea from '../safe-area';\nimport { usePropsValue } from '../../utils/use-props-value';\nimport { traverseReactNode } from '../../utils/traverse-react-node';\n/* istanbul ignore next */\nexport var TabBarItem = function TabBarItem() {\n  return null;\n};\nvar classPrefix = \"adm-tab-bar\";\nvar defaultProps = {\n  safeArea: false\n};\nexport var TabBar = function TabBar(p) {\n  var _a;\n  var props = mergeProps(defaultProps, p);\n  var firstActiveKey = null;\n  var items = [];\n  traverseReactNode(props.children, function (child, index) {\n    if (!React.isValidElement(child)) return;\n    var key = child.key;\n    if (typeof key !== 'string') return;\n    if (index === 0) {\n      firstActiveKey = key;\n    }\n    items.push(child);\n  });\n  var _usePropsValue = usePropsValue({\n      value: props.activeKey,\n      defaultValue: (_a = props.defaultActiveKey) !== null && _a !== void 0 ? _a : firstActiveKey,\n      onChange: function onChange(v) {\n        var _a;\n        if (v === null) return;\n        (_a = props.onChange) === null || _a === void 0 ? void 0 : _a.call(props, v);\n      }\n    }),\n    _usePropsValue2 = _slicedToArray(_usePropsValue, 2),\n    activeKey = _usePropsValue2[0],\n    setActiveKey = _usePropsValue2[1];\n  return withNativeProps(props, React.createElement(\"div\", {\n    className: classPrefix\n  }, React.createElement(\"div\", {\n    className: \"\".concat(classPrefix, \"-wrap\")\n  }, items.map(function (item) {\n    var active = item.key === activeKey;\n    function renderContent() {\n      var iconElement = item.props.icon && React.createElement(\"div\", {\n        className: \"\".concat(classPrefix, \"-item-icon\")\n      }, typeof item.props.icon === 'function' ? item.props.icon(active) : item.props.icon);\n      var titleElement = item.props.title && React.createElement(\"div\", {\n        className: classNames(\"\".concat(classPrefix, \"-item-title\"), Boolean(iconElement) && \"\".concat(classPrefix, \"-item-title-with-icon\"))\n      }, typeof item.props.title === 'function' ? item.props.title(active) : item.props.title);\n      if (iconElement) {\n        return React.createElement(React.Fragment, null, React.createElement(Badge, {\n          content: item.props.badge,\n          className: \"\".concat(classPrefix, \"-icon-badge\")\n        }, iconElement), titleElement);\n      } else if (titleElement) {\n        return React.createElement(Badge, {\n          content: item.props.badge,\n          className: \"\".concat(classPrefix, \"-title-badge\")\n        }, titleElement);\n      }\n      return null;\n    }\n    return withNativeProps(item.props, React.createElement(\"div\", {\n      key: item.key,\n      onClick: function onClick() {\n        var key = item.key;\n        if (key === undefined || key === null) return;\n        setActiveKey(key.toString());\n      },\n      className: classNames(\"\".concat(classPrefix, \"-item\"), _defineProperty({}, \"\".concat(classPrefix, \"-item-active\"), active))\n    }, renderContent()));\n  })), props.safeArea && React.createElement(SafeArea, {\n    position: 'bottom'\n  })));\n};","map":{"version":3,"names":["React","classNames","withNativeProps","mergeProps","Badge","SafeArea","usePropsValue","traverseReactNode","TabBarItem","classPrefix","defaultProps","safeArea","TabBar","p","_a","props","firstActiveKey","items","children","child","index","isValidElement","key","push","_usePropsValue","value","activeKey","defaultValue","defaultActiveKey","onChange","v","call","_usePropsValue2","_slicedToArray","setActiveKey","createElement","className","concat","map","item","active","renderContent","iconElement","icon","titleElement","title","Boolean","Fragment","content","badge","onClick","undefined","toString","_defineProperty","position"],"sources":["/Users/liusu/Desktop/h5_free/game/node_modules/antd-mobile/es/components/tab-bar/tab-bar.js"],"sourcesContent":["import React from 'react';\nimport classNames from 'classnames';\nimport { withNativeProps } from '../../utils/native-props';\nimport { mergeProps } from '../../utils/with-default-props';\nimport Badge from '../badge';\nimport SafeArea from '../safe-area';\nimport { usePropsValue } from '../../utils/use-props-value';\nimport { traverseReactNode } from '../../utils/traverse-react-node';\n/* istanbul ignore next */\nexport const TabBarItem = () => {\n  return null;\n};\nconst classPrefix = `adm-tab-bar`;\nconst defaultProps = {\n  safeArea: false\n};\nexport const TabBar = p => {\n  var _a;\n  const props = mergeProps(defaultProps, p);\n  let firstActiveKey = null;\n  const items = [];\n  traverseReactNode(props.children, (child, index) => {\n    if (!React.isValidElement(child)) return;\n    const key = child.key;\n    if (typeof key !== 'string') return;\n    if (index === 0) {\n      firstActiveKey = key;\n    }\n    items.push(child);\n  });\n  const [activeKey, setActiveKey] = usePropsValue({\n    value: props.activeKey,\n    defaultValue: (_a = props.defaultActiveKey) !== null && _a !== void 0 ? _a : firstActiveKey,\n    onChange: v => {\n      var _a;\n      if (v === null) return;\n      (_a = props.onChange) === null || _a === void 0 ? void 0 : _a.call(props, v);\n    }\n  });\n  return withNativeProps(props, React.createElement(\"div\", {\n    className: classPrefix\n  }, React.createElement(\"div\", {\n    className: `${classPrefix}-wrap`\n  }, items.map(item => {\n    const active = item.key === activeKey;\n    function renderContent() {\n      const iconElement = item.props.icon && React.createElement(\"div\", {\n        className: `${classPrefix}-item-icon`\n      }, typeof item.props.icon === 'function' ? item.props.icon(active) : item.props.icon);\n      const titleElement = item.props.title && React.createElement(\"div\", {\n        className: classNames(`${classPrefix}-item-title`, Boolean(iconElement) && `${classPrefix}-item-title-with-icon`)\n      }, typeof item.props.title === 'function' ? item.props.title(active) : item.props.title);\n      if (iconElement) {\n        return React.createElement(React.Fragment, null, React.createElement(Badge, {\n          content: item.props.badge,\n          className: `${classPrefix}-icon-badge`\n        }, iconElement), titleElement);\n      } else if (titleElement) {\n        return React.createElement(Badge, {\n          content: item.props.badge,\n          className: `${classPrefix}-title-badge`\n        }, titleElement);\n      }\n      return null;\n    }\n    return withNativeProps(item.props, React.createElement(\"div\", {\n      key: item.key,\n      onClick: () => {\n        const {\n          key\n        } = item;\n        if (key === undefined || key === null) return;\n        setActiveKey(key.toString());\n      },\n      className: classNames(`${classPrefix}-item`, {\n        [`${classPrefix}-item-active`]: active\n      })\n    }, renderContent()));\n  })), props.safeArea && React.createElement(SafeArea, {\n    position: 'bottom'\n  })));\n};"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,UAAU,MAAM,YAAY;AACnC,SAASC,eAAe,QAAQ,0BAA0B;AAC1D,SAASC,UAAU,QAAQ,gCAAgC;AAC3D,OAAOC,KAAK,MAAM,UAAU;AAC5B,OAAOC,QAAQ,MAAM,cAAc;AACnC,SAASC,aAAa,QAAQ,6BAA6B;AAC3D,SAASC,iBAAiB,QAAQ,iCAAiC;AACnE;AACA,OAAO,IAAMC,UAAU,GAAG,SAAbA,UAAUA,CAAA,EAAS;EAC9B,OAAO,IAAI;AACb,CAAC;AACD,IAAMC,WAAW,gBAAgB;AACjC,IAAMC,YAAY,GAAG;EACnBC,QAAQ,EAAE;AACZ,CAAC;AACD,OAAO,IAAMC,MAAM,GAAG,SAATA,MAAMA,CAAGC,CAAC,EAAI;EACzB,IAAIC,EAAE;EACN,IAAMC,KAAK,GAAGZ,UAAU,CAACO,YAAY,EAAEG,CAAC,CAAC;EACzC,IAAIG,cAAc,GAAG,IAAI;EACzB,IAAMC,KAAK,GAAG,EAAE;EAChBV,iBAAiB,CAACQ,KAAK,CAACG,QAAQ,EAAE,UAACC,KAAK,EAAEC,KAAK,EAAK;IAClD,IAAI,CAACpB,KAAK,CAACqB,cAAc,CAACF,KAAK,CAAC,EAAE;IAClC,IAAMG,GAAG,GAAGH,KAAK,CAACG,GAAG;IACrB,IAAI,OAAOA,GAAG,KAAK,QAAQ,EAAE;IAC7B,IAAIF,KAAK,KAAK,CAAC,EAAE;MACfJ,cAAc,GAAGM,GAAG;IACtB;IACAL,KAAK,CAACM,IAAI,CAACJ,KAAK,CAAC;EACnB,CAAC,CAAC;EACF,IAAAK,cAAA,GAAkClB,aAAa,CAAC;MAC9CmB,KAAK,EAAEV,KAAK,CAACW,SAAS;MACtBC,YAAY,EAAE,CAACb,EAAE,GAAGC,KAAK,CAACa,gBAAgB,MAAM,IAAI,IAAId,EAAE,KAAK,KAAK,CAAC,GAAGA,EAAE,GAAGE,cAAc;MAC3Fa,QAAQ,EAAE,SAAAA,SAAAC,CAAC,EAAI;QACb,IAAIhB,EAAE;QACN,IAAIgB,CAAC,KAAK,IAAI,EAAE;QAChB,CAAChB,EAAE,GAAGC,KAAK,CAACc,QAAQ,MAAM,IAAI,IAAIf,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACiB,IAAI,CAAChB,KAAK,EAAEe,CAAC,CAAC;MAC9E;IACF,CAAC,CAAC;IAAAE,eAAA,GAAAC,cAAA,CAAAT,cAAA;IARKE,SAAS,GAAAM,eAAA;IAAEE,YAAY,GAAAF,eAAA;EAS9B,OAAO9B,eAAe,CAACa,KAAK,EAAEf,KAAK,CAACmC,aAAa,CAAC,KAAK,EAAE;IACvDC,SAAS,EAAE3B;EACb,CAAC,EAAET,KAAK,CAACmC,aAAa,CAAC,KAAK,EAAE;IAC5BC,SAAS,KAAAC,MAAA,CAAK5B,WAAW;EAC3B,CAAC,EAAEQ,KAAK,CAACqB,GAAG,CAAC,UAAAC,IAAI,EAAI;IACnB,IAAMC,MAAM,GAAGD,IAAI,CAACjB,GAAG,KAAKI,SAAS;IACrC,SAASe,aAAaA,CAAA,EAAG;MACvB,IAAMC,WAAW,GAAGH,IAAI,CAACxB,KAAK,CAAC4B,IAAI,IAAI3C,KAAK,CAACmC,aAAa,CAAC,KAAK,EAAE;QAChEC,SAAS,KAAAC,MAAA,CAAK5B,WAAW;MAC3B,CAAC,EAAE,OAAO8B,IAAI,CAACxB,KAAK,CAAC4B,IAAI,KAAK,UAAU,GAAGJ,IAAI,CAACxB,KAAK,CAAC4B,IAAI,CAACH,MAAM,CAAC,GAAGD,IAAI,CAACxB,KAAK,CAAC4B,IAAI,CAAC;MACrF,IAAMC,YAAY,GAAGL,IAAI,CAACxB,KAAK,CAAC8B,KAAK,IAAI7C,KAAK,CAACmC,aAAa,CAAC,KAAK,EAAE;QAClEC,SAAS,EAAEnC,UAAU,IAAAoC,MAAA,CAAI5B,WAAW,kBAAeqC,OAAO,CAACJ,WAAW,CAAC,OAAAL,MAAA,CAAO5B,WAAW,0BAAuB;MAClH,CAAC,EAAE,OAAO8B,IAAI,CAACxB,KAAK,CAAC8B,KAAK,KAAK,UAAU,GAAGN,IAAI,CAACxB,KAAK,CAAC8B,KAAK,CAACL,MAAM,CAAC,GAAGD,IAAI,CAACxB,KAAK,CAAC8B,KAAK,CAAC;MACxF,IAAIH,WAAW,EAAE;QACf,OAAO1C,KAAK,CAACmC,aAAa,CAACnC,KAAK,CAAC+C,QAAQ,EAAE,IAAI,EAAE/C,KAAK,CAACmC,aAAa,CAAC/B,KAAK,EAAE;UAC1E4C,OAAO,EAAET,IAAI,CAACxB,KAAK,CAACkC,KAAK;UACzBb,SAAS,KAAAC,MAAA,CAAK5B,WAAW;QAC3B,CAAC,EAAEiC,WAAW,CAAC,EAAEE,YAAY,CAAC;MAChC,CAAC,MAAM,IAAIA,YAAY,EAAE;QACvB,OAAO5C,KAAK,CAACmC,aAAa,CAAC/B,KAAK,EAAE;UAChC4C,OAAO,EAAET,IAAI,CAACxB,KAAK,CAACkC,KAAK;UACzBb,SAAS,KAAAC,MAAA,CAAK5B,WAAW;QAC3B,CAAC,EAAEmC,YAAY,CAAC;MAClB;MACA,OAAO,IAAI;IACb;IACA,OAAO1C,eAAe,CAACqC,IAAI,CAACxB,KAAK,EAAEf,KAAK,CAACmC,aAAa,CAAC,KAAK,EAAE;MAC5Db,GAAG,EAAEiB,IAAI,CAACjB,GAAG;MACb4B,OAAO,EAAE,SAAAA,QAAA,EAAM;QACb,IACE5B,GAAG,GACDiB,IAAI,CADNjB,GAAG;QAEL,IAAIA,GAAG,KAAK6B,SAAS,IAAI7B,GAAG,KAAK,IAAI,EAAE;QACvCY,YAAY,CAACZ,GAAG,CAAC8B,QAAQ,EAAE,CAAC;MAC9B,CAAC;MACDhB,SAAS,EAAEnC,UAAU,IAAAoC,MAAA,CAAI5B,WAAW,YAAA4C,eAAA,QAAAhB,MAAA,CAC9B5B,WAAW,mBAAiB+B,MAAM;IAE1C,CAAC,EAAEC,aAAa,EAAE,CAAC,CAAC;EACtB,CAAC,CAAC,CAAC,EAAE1B,KAAK,CAACJ,QAAQ,IAAIX,KAAK,CAACmC,aAAa,CAAC9B,QAAQ,EAAE;IACnDiD,QAAQ,EAAE;EACZ,CAAC,CAAC,CAAC,CAAC;AACN,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}