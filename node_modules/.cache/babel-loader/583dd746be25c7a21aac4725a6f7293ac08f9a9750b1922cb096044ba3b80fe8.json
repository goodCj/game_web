{"ast":null,"code":"import _slicedToArray from\"/Users/liusu/Desktop/h5_free/game/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useLocation}from\"react-router-dom\";import Games from\"../../json/game/index\";import{Button,Space,Rate}from\"antd-mobile\";import{FireFill,PlayOutline}from\"antd-mobile-icons\";import{useHistory}from\"react-router-dom\";import\"./index.less\";import{useState}from\"react\";import OtherGames from\"../main/bottom-others\";import Gohome from\"../components/goHome\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Detail=function Detail(){var location=useLocation();var history=useHistory();var _location$state=location.state,id=_location$state.id,type=_location$state.type;var goDetailPage=function goDetailPage(item,type){history.push({pathname:\"/detail\",state:{id:item.id,type:type}});};var gameDetail=Games[type].find(function(item){return item.id===id;});var isMore=gameDetail.description.length>=210;var _useState=useState(!isMore),_useState2=_slicedToArray(_useState,2),moreBtn=_useState2[0],setMoreBtn=_useState2[1];var goPlay=function goPlay(){history.push({pathname:\"/game\",state:{url:gameDetail.openUrl}});};return/*#__PURE__*/_jsxs(\"div\",{className:\"detail\",children:[/*#__PURE__*/_jsx(Gohome,{}),/*#__PURE__*/_jsx(\"div\",{className:\"headerTitle\",children:\"HotFreeGames\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"gameBaseInfo\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"bg\",src:require(\"../../static/\".concat(type,\"/\").concat(gameDetail.id,\".jpg\"))}),/*#__PURE__*/_jsxs(\"div\",{className:\"gameBox\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"gamePic\",children:/*#__PURE__*/_jsx(\"img\",{src:require(\"../../static/\".concat(type,\"/\").concat(gameDetail.id,\".jpg\"))})}),/*#__PURE__*/_jsxs(\"div\",{className:\"gameInfo\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"title\",children:gameDetail.name}),/*#__PURE__*/_jsx(\"div\",{className:\"star\",children:/*#__PURE__*/_jsx(Rate,{readOnly:true,value:5,style:{\"--star-size\":\".5rem\"}})}),/*#__PURE__*/_jsx(Button,{className:\"playNow\",block:true,color:\"primary\",size:\"large\",onClick:goPlay,children:/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(PlayOutline,{}),/*#__PURE__*/_jsx(\"span\",{children:\"Play Now\"})]})})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"gameDes\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"title\",children:gameDetail.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"content\",children:[isMore&&/*#__PURE__*/_jsx(\"div\",{className:\"moreBtn\",onClick:function onClick(){setMoreBtn(!moreBtn);},children:!moreBtn?\"Read More\":\"Show less\"}),/*#__PURE__*/_jsx(\"div\",{children:gameDetail.description.substr(0,210)}),moreBtn&&/*#__PURE__*/_jsx(\"div\",{children:gameDetail.description.substr(210)})]})]}),/*#__PURE__*/_jsx(OtherGames,{title:\"Remcommend For You\",goDetailPage:goDetailPage})]});};export default Detail;","map":{"version":3,"names":["useLocation","Games","Button","Space","Rate","FireFill","PlayOutline","useHistory","useState","OtherGames","Gohome","jsx","_jsx","jsxs","_jsxs","Detail","location","history","_location$state","state","id","type","goDetailPage","item","push","pathname","gameDetail","find","isMore","description","length","_useState","_useState2","_slicedToArray","moreBtn","setMoreBtn","goPlay","url","openUrl","className","children","src","require","concat","name","readOnly","value","style","block","color","size","onClick","substr","title"],"sources":["/Users/liusu/Desktop/h5_free/game/src/pages/detail/index.jsx"],"sourcesContent":["import { useLocation } from \"react-router-dom\";\nimport Games from \"../../json/game/index\";\nimport { Button, Space, Rate } from \"antd-mobile\";\nimport { FireFill, PlayOutline } from \"antd-mobile-icons\";\nimport { useHistory } from \"react-router-dom\";\nimport \"./index.less\";\nimport { useState } from \"react\";\nimport OtherGames from \"../main/bottom-others\";\nimport Gohome from \"../components/goHome\";\nconst Detail = () => {\n  const location = useLocation();\n  const history = useHistory();\n  const {\n    state: { id, type },\n  } = location;\n  const goDetailPage = (item, type) => {\n    history.push({\n      pathname: \"/detail\",\n      state: {\n        id: item.id,\n        type,\n      },\n    });\n  };\n  const gameDetail = Games[type].find((item) => item.id === id);\n  const isMore = gameDetail.description.length >= 210;\n  const [moreBtn, setMoreBtn] = useState(!isMore);\n  const goPlay = () => {\n    history.push({\n      pathname: \"/game\",\n      state: {\n        url: gameDetail.openUrl,\n      },\n    });\n  };\n  return (\n    <div className=\"detail\">\n      <Gohome />\n      <div className=\"headerTitle\">HotFreeGames</div>\n      <div className=\"gameBaseInfo\">\n        <img\n          className=\"bg\"\n          src={require(`../../static/${type}/${gameDetail.id}.jpg`)}\n        ></img>\n        <div className=\"gameBox\">\n          <div className=\"gamePic\">\n            <img\n              src={require(`../../static/${type}/${gameDetail.id}.jpg`)}\n            ></img>\n          </div>\n          <div className=\"gameInfo\">\n            <div className=\"title\">{gameDetail.name}</div>\n            <div className=\"star\">\n              <Rate\n                readOnly\n                value={5}\n                style={{\n                  \"--star-size\": \".5rem\",\n                }}\n              />\n            </div>\n            <Button\n              className=\"playNow\"\n              block\n              color=\"primary\"\n              size=\"large\"\n              onClick={goPlay}\n            >\n              <Space>\n                <PlayOutline />\n                <span>Play Now</span>\n              </Space>\n            </Button>\n          </div>\n        </div>\n      </div>\n      <div className=\"gameDes\">\n        <div className=\"title\">{gameDetail.name}</div>\n        <div className=\"content\">\n          {isMore && (\n            <div\n              className=\"moreBtn\"\n              onClick={() => {\n                setMoreBtn(!moreBtn);\n              }}\n            >\n              {!moreBtn ? \"Read More\" : \"Show less\"}\n            </div>\n          )}\n          <div>{gameDetail.description.substr(0, 210)}</div>\n          {moreBtn && <div>{gameDetail.description.substr(210)}</div>}\n        </div>\n      </div>\n      <OtherGames title=\"Remcommend For You\" goDetailPage={goDetailPage} />\n    </div>\n  );\n};\n\nexport default Detail;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}