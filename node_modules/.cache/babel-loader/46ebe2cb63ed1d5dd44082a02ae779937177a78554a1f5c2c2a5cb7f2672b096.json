{"ast":null,"code":"import _slicedToArray from \"/Users/liusu/Desktop/h5_free/game/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport React, { useState, useEffect, forwardRef, useImperativeHandle } from 'react';\nimport Popup from '../popup';\nimport { mergeProps } from '../../utils/with-default-props';\nimport { withNativeProps } from '../../utils/native-props';\nimport { usePropsValue } from '../../utils/use-props-value';\nimport CascaderView from '../cascader-view';\nimport { useConfig } from '../config-provider';\nimport { useCascaderValueExtend } from '../cascader-view/use-cascader-value-extend';\nvar classPrefix = \"adm-cascader\";\nvar defaultProps = {\n  defaultValue: [],\n  destroyOnClose: true,\n  forceRender: false\n};\nexport var Cascader = forwardRef(function (p, ref) {\n  var _a;\n  var _useConfig = useConfig(),\n    locale = _useConfig.locale;\n  var props = mergeProps(defaultProps, {\n    confirmText: locale.common.confirm,\n    cancelText: locale.common.cancel,\n    placeholder: locale.Cascader.placeholder\n  }, p);\n  var _usePropsValue = usePropsValue({\n      value: props.visible,\n      defaultValue: false,\n      onChange: function onChange(v) {\n        var _a;\n        if (v === false) {\n          (_a = props.onClose) === null || _a === void 0 ? void 0 : _a.call(props);\n        }\n      }\n    }),\n    _usePropsValue2 = _slicedToArray(_usePropsValue, 2),\n    visible = _usePropsValue2[0],\n    setVisible = _usePropsValue2[1];\n  var actions = {\n    toggle: function toggle() {\n      setVisible(function (v) {\n        return !v;\n      });\n    },\n    open: function open() {\n      setVisible(true);\n    },\n    close: function close() {\n      setVisible(false);\n    }\n  };\n  useImperativeHandle(ref, function () {\n    return actions;\n  });\n  var _usePropsValue3 = usePropsValue(Object.assign(Object.assign({}, props), {\n      onChange: function onChange(val) {\n        var _a;\n        (_a = props.onConfirm) === null || _a === void 0 ? void 0 : _a.call(props, val, generateValueExtend(val));\n      }\n    })),\n    _usePropsValue4 = _slicedToArray(_usePropsValue3, 2),\n    value = _usePropsValue4[0],\n    setValue = _usePropsValue4[1];\n  var generateValueExtend = useCascaderValueExtend(props.options);\n  var _useState = useState(value),\n    _useState2 = _slicedToArray(_useState, 2),\n    innerValue = _useState2[0],\n    setInnerValue = _useState2[1];\n  useEffect(function () {\n    if (!visible) {\n      setInnerValue(value);\n    }\n  }, [visible]);\n  useEffect(function () {\n    if (!visible) {\n      setInnerValue(value);\n    }\n  }, [value]);\n  var cascaderElement = withNativeProps(props, React.createElement(\"div\", {\n    className: classPrefix\n  }, React.createElement(\"div\", {\n    className: \"\".concat(classPrefix, \"-header\")\n  }, React.createElement(\"a\", {\n    className: \"\".concat(classPrefix, \"-header-button\"),\n    onClick: function onClick() {\n      var _a;\n      (_a = props.onCancel) === null || _a === void 0 ? void 0 : _a.call(props);\n      setVisible(false);\n    }\n  }, props.cancelText), React.createElement(\"div\", {\n    className: \"\".concat(classPrefix, \"-header-title\")\n  }, props.title), React.createElement(\"a\", {\n    className: \"\".concat(classPrefix, \"-header-button\"),\n    onClick: function onClick() {\n      setValue(innerValue, true);\n      setVisible(false);\n    }\n  }, props.confirmText)), React.createElement(\"div\", {\n    className: \"\".concat(classPrefix, \"-body\")\n  }, React.createElement(CascaderView, Object.assign({}, props, {\n    value: innerValue,\n    onChange: function onChange(val, ext) {\n      var _a;\n      setInnerValue(val);\n      if (visible) {\n        (_a = props.onSelect) === null || _a === void 0 ? void 0 : _a.call(props, val, ext);\n      }\n    }\n  })))));\n  var popupElement = React.createElement(Popup, {\n    visible: visible,\n    position: 'bottom',\n    onMaskClick: function onMaskClick() {\n      var _a;\n      (_a = props.onCancel) === null || _a === void 0 ? void 0 : _a.call(props);\n      setVisible(false);\n    },\n    getContainer: props.getContainer,\n    destroyOnClose: props.destroyOnClose,\n    forceRender: props.forceRender,\n    afterShow: props.afterShow,\n    afterClose: props.afterClose,\n    onClick: props.onClick,\n    stopPropagation: props.stopPropagation\n  }, cascaderElement);\n  return React.createElement(React.Fragment, null, popupElement, (_a = props.children) === null || _a === void 0 ? void 0 : _a.call(props, generateValueExtend(value).items, actions));\n});","map":{"version":3,"names":["React","useState","useEffect","forwardRef","useImperativeHandle","Popup","mergeProps","withNativeProps","usePropsValue","CascaderView","useConfig","useCascaderValueExtend","classPrefix","defaultProps","defaultValue","destroyOnClose","forceRender","Cascader","p","ref","_a","_useConfig","locale","props","confirmText","common","confirm","cancelText","cancel","placeholder","_usePropsValue","value","visible","onChange","v","onClose","call","_usePropsValue2","_slicedToArray","setVisible","actions","toggle","open","close","_usePropsValue3","Object","assign","val","onConfirm","generateValueExtend","_usePropsValue4","setValue","options","_useState","_useState2","innerValue","setInnerValue","cascaderElement","createElement","className","concat","onClick","onCancel","title","ext","onSelect","popupElement","position","onMaskClick","getContainer","afterShow","afterClose","stopPropagation","Fragment","children","items"],"sources":["/Users/liusu/Desktop/h5_free/game/node_modules/antd-mobile/es/components/cascader/cascader.js"],"sourcesContent":["import React, { useState, useEffect, forwardRef, useImperativeHandle } from 'react';\nimport Popup from '../popup';\nimport { mergeProps } from '../../utils/with-default-props';\nimport { withNativeProps } from '../../utils/native-props';\nimport { usePropsValue } from '../../utils/use-props-value';\nimport CascaderView from '../cascader-view';\nimport { useConfig } from '../config-provider';\nimport { useCascaderValueExtend } from '../cascader-view/use-cascader-value-extend';\nconst classPrefix = `adm-cascader`;\nconst defaultProps = {\n  defaultValue: [],\n  destroyOnClose: true,\n  forceRender: false\n};\nexport const Cascader = forwardRef((p, ref) => {\n  var _a;\n  const {\n    locale\n  } = useConfig();\n  const props = mergeProps(defaultProps, {\n    confirmText: locale.common.confirm,\n    cancelText: locale.common.cancel,\n    placeholder: locale.Cascader.placeholder\n  }, p);\n  const [visible, setVisible] = usePropsValue({\n    value: props.visible,\n    defaultValue: false,\n    onChange: v => {\n      var _a;\n      if (v === false) {\n        (_a = props.onClose) === null || _a === void 0 ? void 0 : _a.call(props);\n      }\n    }\n  });\n  const actions = {\n    toggle: () => {\n      setVisible(v => !v);\n    },\n    open: () => {\n      setVisible(true);\n    },\n    close: () => {\n      setVisible(false);\n    }\n  };\n  useImperativeHandle(ref, () => actions);\n  const [value, setValue] = usePropsValue(Object.assign(Object.assign({}, props), {\n    onChange: val => {\n      var _a;\n      (_a = props.onConfirm) === null || _a === void 0 ? void 0 : _a.call(props, val, generateValueExtend(val));\n    }\n  }));\n  const generateValueExtend = useCascaderValueExtend(props.options);\n  const [innerValue, setInnerValue] = useState(value);\n  useEffect(() => {\n    if (!visible) {\n      setInnerValue(value);\n    }\n  }, [visible]);\n  useEffect(() => {\n    if (!visible) {\n      setInnerValue(value);\n    }\n  }, [value]);\n  const cascaderElement = withNativeProps(props, React.createElement(\"div\", {\n    className: classPrefix\n  }, React.createElement(\"div\", {\n    className: `${classPrefix}-header`\n  }, React.createElement(\"a\", {\n    className: `${classPrefix}-header-button`,\n    onClick: () => {\n      var _a;\n      (_a = props.onCancel) === null || _a === void 0 ? void 0 : _a.call(props);\n      setVisible(false);\n    }\n  }, props.cancelText), React.createElement(\"div\", {\n    className: `${classPrefix}-header-title`\n  }, props.title), React.createElement(\"a\", {\n    className: `${classPrefix}-header-button`,\n    onClick: () => {\n      setValue(innerValue, true);\n      setVisible(false);\n    }\n  }, props.confirmText)), React.createElement(\"div\", {\n    className: `${classPrefix}-body`\n  }, React.createElement(CascaderView, Object.assign({}, props, {\n    value: innerValue,\n    onChange: (val, ext) => {\n      var _a;\n      setInnerValue(val);\n      if (visible) {\n        (_a = props.onSelect) === null || _a === void 0 ? void 0 : _a.call(props, val, ext);\n      }\n    }\n  })))));\n  const popupElement = React.createElement(Popup, {\n    visible: visible,\n    position: 'bottom',\n    onMaskClick: () => {\n      var _a;\n      (_a = props.onCancel) === null || _a === void 0 ? void 0 : _a.call(props);\n      setVisible(false);\n    },\n    getContainer: props.getContainer,\n    destroyOnClose: props.destroyOnClose,\n    forceRender: props.forceRender,\n    afterShow: props.afterShow,\n    afterClose: props.afterClose,\n    onClick: props.onClick,\n    stopPropagation: props.stopPropagation\n  }, cascaderElement);\n  return React.createElement(React.Fragment, null, popupElement, (_a = props.children) === null || _a === void 0 ? void 0 : _a.call(props, generateValueExtend(value).items, actions));\n});"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}