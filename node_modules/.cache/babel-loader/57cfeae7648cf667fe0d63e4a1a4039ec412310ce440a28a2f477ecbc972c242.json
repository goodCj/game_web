{"ast":null,"code":"import _createForOfIteratorHelper from \"/Users/liusu/Desktop/h5_free/game/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _slicedToArray from \"/Users/liusu/Desktop/h5_free/game/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport 'intersection-observer';\nimport { useState } from 'react';\nimport { getTargetElement } from '../utils/domTarget';\nimport useEffectWithTarget from '../utils/useEffectWithTarget';\nfunction useInViewport(target, options) {\n  var _useState = useState(),\n    _useState2 = _slicedToArray(_useState, 2),\n    state = _useState2[0],\n    setState = _useState2[1];\n  var _useState3 = useState(),\n    _useState4 = _slicedToArray(_useState3, 2),\n    ratio = _useState4[0],\n    setRatio = _useState4[1];\n  useEffectWithTarget(function () {\n    var el = getTargetElement(target);\n    if (!el) {\n      return;\n    }\n    var observer = new IntersectionObserver(function (entries) {\n      var _iterator = _createForOfIteratorHelper(entries),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var entry = _step.value;\n          setRatio(entry.intersectionRatio);\n          setState(entry.isIntersecting);\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }, Object.assign(Object.assign({}, options), {\n      root: getTargetElement(options === null || options === void 0 ? void 0 : options.root)\n    }));\n    observer.observe(el);\n    return function () {\n      observer.disconnect();\n    };\n  }, [options === null || options === void 0 ? void 0 : options.rootMargin, options === null || options === void 0 ? void 0 : options.threshold], target);\n  return [state, ratio];\n}\nexport default useInViewport;","map":{"version":3,"names":["useState","getTargetElement","useEffectWithTarget","useInViewport","target","options","_useState","_useState2","_slicedToArray","state","setState","_useState3","_useState4","ratio","setRatio","el","observer","IntersectionObserver","entries","_iterator","_createForOfIteratorHelper","_step","s","n","done","entry","value","intersectionRatio","isIntersecting","err","e","f","Object","assign","root","observe","disconnect","rootMargin","threshold"],"sources":["/Users/liusu/Desktop/h5_free/game/node_modules/ahooks/es/useInViewport/index.js"],"sourcesContent":["import 'intersection-observer';\nimport { useState } from 'react';\nimport { getTargetElement } from '../utils/domTarget';\nimport useEffectWithTarget from '../utils/useEffectWithTarget';\nfunction useInViewport(target, options) {\n  const [state, setState] = useState();\n  const [ratio, setRatio] = useState();\n  useEffectWithTarget(() => {\n    const el = getTargetElement(target);\n    if (!el) {\n      return;\n    }\n    const observer = new IntersectionObserver(entries => {\n      for (const entry of entries) {\n        setRatio(entry.intersectionRatio);\n        setState(entry.isIntersecting);\n      }\n    }, Object.assign(Object.assign({}, options), {\n      root: getTargetElement(options === null || options === void 0 ? void 0 : options.root)\n    }));\n    observer.observe(el);\n    return () => {\n      observer.disconnect();\n    };\n  }, [options === null || options === void 0 ? void 0 : options.rootMargin, options === null || options === void 0 ? void 0 : options.threshold], target);\n  return [state, ratio];\n}\nexport default useInViewport;"],"mappings":";;AAAA,OAAO,uBAAuB;AAC9B,SAASA,QAAQ,QAAQ,OAAO;AAChC,SAASC,gBAAgB,QAAQ,oBAAoB;AACrD,OAAOC,mBAAmB,MAAM,8BAA8B;AAC9D,SAASC,aAAaA,CAACC,MAAM,EAAEC,OAAO,EAAE;EACtC,IAAAC,SAAA,GAA0BN,QAAQ,EAAE;IAAAO,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAA7BG,KAAK,GAAAF,UAAA;IAAEG,QAAQ,GAAAH,UAAA;EACtB,IAAAI,UAAA,GAA0BX,QAAQ,EAAE;IAAAY,UAAA,GAAAJ,cAAA,CAAAG,UAAA;IAA7BE,KAAK,GAAAD,UAAA;IAAEE,QAAQ,GAAAF,UAAA;EACtBV,mBAAmB,CAAC,YAAM;IACxB,IAAMa,EAAE,GAAGd,gBAAgB,CAACG,MAAM,CAAC;IACnC,IAAI,CAACW,EAAE,EAAE;MACP;IACF;IACA,IAAMC,QAAQ,GAAG,IAAIC,oBAAoB,CAAC,UAAAC,OAAO,EAAI;MAAA,IAAAC,SAAA,GAAAC,0BAAA,CAC/BF,OAAO;QAAAG,KAAA;MAAA;QAA3B,KAAAF,SAAA,CAAAG,CAAA,MAAAD,KAAA,GAAAF,SAAA,CAAAI,CAAA,IAAAC,IAAA,GAA6B;UAAA,IAAlBC,KAAK,GAAAJ,KAAA,CAAAK,KAAA;UACdZ,QAAQ,CAACW,KAAK,CAACE,iBAAiB,CAAC;UACjCjB,QAAQ,CAACe,KAAK,CAACG,cAAc,CAAC;QAChC;MAAC,SAAAC,GAAA;QAAAV,SAAA,CAAAW,CAAA,CAAAD,GAAA;MAAA;QAAAV,SAAA,CAAAY,CAAA;MAAA;IACH,CAAC,EAAEC,MAAM,CAACC,MAAM,CAACD,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAE5B,OAAO,CAAC,EAAE;MAC3C6B,IAAI,EAAEjC,gBAAgB,CAACI,OAAO,KAAK,IAAI,IAAIA,OAAO,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,OAAO,CAAC6B,IAAI;IACvF,CAAC,CAAC,CAAC;IACHlB,QAAQ,CAACmB,OAAO,CAACpB,EAAE,CAAC;IACpB,OAAO,YAAM;MACXC,QAAQ,CAACoB,UAAU,EAAE;IACvB,CAAC;EACH,CAAC,EAAE,CAAC/B,OAAO,KAAK,IAAI,IAAIA,OAAO,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,OAAO,CAACgC,UAAU,EAAEhC,OAAO,KAAK,IAAI,IAAIA,OAAO,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,OAAO,CAACiC,SAAS,CAAC,EAAElC,MAAM,CAAC;EACvJ,OAAO,CAACK,KAAK,EAAEI,KAAK,CAAC;AACvB;AACA,eAAeV,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}